(()=>{"use strict";var e={5690:(e,t,n)=>{n.r(t);var o=n(7706),i=n(7294),l=n(5815),r=n(9564),a=n(5861),s=n(885),d=n(5456),u=n(1494),c=n(2025),f=n(6876),h=n(9321),g=n(2582),y=n(5891),b=n(170);const x=function(e,t,n,o){return Math.floor(4*Math.random()).toString(),new Promise((function(i,l){var r={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,persona:t,style:n,identity:o})};fetch("https://www.foodcrs.com/bot",r).then((function(e){return e.json()})).then((function(e){return i(e.status)})).catch((function(e){return l(e)}))}))};var m={prefix:"Before proceeding to the survey, we need to make sure that you meet the inclusion criteria by asking the following questions.",first:"1. Are you over 18?",second:"2. What is your English fluency in reading and writing?",third:"3. Are you interested in using a AI chatbot for food recommendation?",fourth:"4. Are you currently dealing with any severe health conditions that require you to be extremely cautious about your diet? (e.g., Coronary heart disease, diabetes, renal failure)",fifth:"1. What is your biological sex?",sixth:"2. How old are you?",seventh:"3. What is your height (cm)?",eighth:"4. What is your weight (kg)?",ninth:"5. Which country/region do you currently live in?",tenth:"6. Do you have any food restrictions? (e.g., vegetarianism) If yes, please enter the restriction below; if no, just skip this question.",eleventh:"7. Are there any specific aspects of your health that you would like to improve? (e.g., energy level, physical fitness)",twelfth:"8. How do you want us to address you?",thirteenth:"9. Your email address:",cus:"Customize the chatbot before proceeding to the conversation."},p={notfinish:"Please complete all the screening questions before proceeding to the survey.",notqali:"Sorry :( It looks like you do not meet the study criteria.",age:"Please input a valid age (over 18 and below 120).",height:"Please input a valid height (over 100cm and below 220cm).",weight:"Please input a valid weight (over 30kg and below 150kg).",email:"Please input a valid email address.",rec:"Please rate and review the recommendation quality.",int:"Please rate and review the chatbot intelligence.",exp:"Please rate and review your interacting experience.",edu:"Please provide some information about your education level.",work:"Please provide some information about your focus of work.",ra:"Please provide some information about your ethnicity, if you do not want to tell us about this, please select 'Prefer not to say'.",cusp:"Please select the personality to customize the chatbot according to your preference.",cuss:"Please select the speaking style to customize the chatbot according to your preference.",cusiden:"Please select the identity to customize the chatbot according to your preference."};const j=(0,n(270).default)((function(e){return{userId:null,setUserId:function(t){return e({userId:t})}}}));var w=n(5893);function C(e){var t=e.navigation,o=y.default.get("window").width,l=y.default.get("window").height,r=.8*o,c=(0,i.useState)(""),C=(0,s.default)(c,2),v=C[0],k=C[1],T=(0,i.useState)(""),z=(0,s.default)(T,2),R=z[0],I=z[1],P=(0,i.useState)(""),D=(0,s.default)(P,2),F=D[0],W=D[1],A=(0,i.useState)("[extroverted/introverted/neither extroverted nor introverted]"),E=(0,s.default)(A,2),q=E[0],B=E[1],L=(0,i.useState)("[humorous/serious] & [talkative/concise]"),O=(0,s.default)(L,2),M=O[0],H=O[1],_=(0,i.useState)("[nutrition expert/peer]"),N=(0,s.default)(_,2),Y=N[0],V=N[1],G=(0,i.useState)(!1),U=(0,s.default)(G,2),J=U[0],K=U[1],Z=(0,i.useState)("gray"),Q=(0,s.default)(Z,2),$=Q[0],X=Q[1],ee=(0,i.useState)(!1),te=(0,s.default)(ee,2),ne=te[0],oe=te[1],ie=(0,i.useState)(""),le=(0,s.default)(ie,2),re=le[0],ae=le[1],se=j().userId,de=(0,i.useState)(!1),ue=(0,s.default)(de,2),ce=ue[0],fe=ue[1],he=(0,i.useState)(!1),ge=(0,s.default)(he,2),ye=ge[0],be=ge[1],xe=(0,i.useState)(!1),me=(0,s.default)(xe,2),pe=me[0],je=me[1],we=(0,i.useState)(!1),Ce=(0,s.default)(we,2),Se=Ce[0],ve=Ce[1],ke=(0,i.useState)(!1),Te=(0,s.default)(ke,2),ze=Te[0],Re=Te[1],Ie=(0,i.useState)(!1),Pe=(0,s.default)(Ie,2),De=Pe[0],Fe=Pe[1],We=(0,i.useState)(!1),Ae=(0,s.default)(We,2),Ee=Ae[0],qe=Ae[1],Be=(0,i.useState)(!1),Le=(0,s.default)(Be,2),Oe=Le[0],Me=Le[1],He=(0,i.useState)(!1),_e=(0,s.default)(He,2),Ne=_e[0],Ye=_e[1],Ve="extroverted",Ge="neutral",Ue="introverted",Je="humorous",Ke="serious",Ze="talkative",Qe="concise",$e="peer",Xe="nutrition expert";return(0,i.useEffect)((function(){""!=v&&""!=R&&""!=F?(X("#86A789"),ae("")):X("gray")}),[v,R,F]),(0,w.jsxs)(u.default,{contentContainerStyle:S.container,children:[(0,w.jsx)(h.default,{style:S.titleContainer,children:(0,w.jsx)(f.default,{style:S.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(u.default,{contentContainerStyle:{flex:9,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,width:r,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"center",alignSelf:"center"},children:[(0,w.jsx)(h.default,{style:S.valcontainerSub,children:(0,w.jsx)(f.default,{style:S.questionPlus,children:m.cus})}),(0,w.jsxs)(h.default,{style:S.columContainer,children:[(0,w.jsxs)(h.default,{style:S.leftColumn,children:[(0,w.jsxs)(h.default,{style:S.valcontainerMid,children:[(0,w.jsx)(f.default,{style:S.question,children:"1. I want to talk with a chatbot who is a:"}),(0,w.jsx)(f.default,{style:S.spaceText,children:"  "}),(0,w.jsxs)(h.default,{style:S.buttoncontainer,children:[(0,w.jsx)(g.default,{style:[S.button_subS,Oe&&S.buttonPressed],onPress:function(){Oe?(Me(!1),W(""),V("[nutrition expert/peer]")):(Me(!0),W($e),V($e),Ye(!1))},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:$e})}),(0,w.jsx)(g.default,{style:[S.button_subP,{marginLeft:20},Ne&&S.buttonPressed],onPress:function(){Ne?(Ye(!1),W(""),V("[nutrition expert/peer]")):(Ye(!0),W(Xe),V(Xe),Me(!1))},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Xe})})]})]}),(0,w.jsxs)(h.default,{style:[S.valcontainerMid,{marginBottom:5}],children:[(0,w.jsx)(f.default,{style:S.question,children:"2. I want to talk with a chatbot whose personality is:"}),(0,w.jsx)(f.default,{style:S.spaceText,children:"  "}),(0,w.jsxs)(h.default,{style:S.buttoncontainer,children:[(0,w.jsx)(g.default,{style:[S.button_sub,ce&&S.buttonPressed],onPress:function(){ce?(fe(!1),k(""),B("[extroverted/introverted/neither extroverted nor introverted]")):(fe(!0),k(Ve),be(!1),je(!1),B(Ve))},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Ve})}),(0,w.jsx)(g.default,{style:[S.button_subM,{marginLeft:18},ye&&S.buttonPressed],onPress:function(){ye?(be(!1),k(""),B("[extroverted/introverted/neither extroverted nor introverted]")):(be(!0),k(Ge),fe(!1),je(!1),B(Ge))},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Ge})}),(0,w.jsx)(g.default,{style:[S.button_sub,{marginLeft:18},pe&&S.buttonPressed],onPress:function(){pe?(je(!1),k(""),B("[extroverted/introverted/neither extroverted nor introverted]")):(je(!0),k(Ue),fe(!1),be(!1),B(Ue))},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Ue})})]})]}),(0,w.jsxs)(h.default,{style:[S.valcontainer,{marginBottom:30}],children:[(0,w.jsx)(f.default,{style:S.question,children:"3. Additionally, I prefer the chatbot to be (choose one adjective per row):"}),(0,w.jsx)(f.default,{style:S.spaceText,children:"  "}),(0,w.jsxs)(h.default,{style:S.buttoncontainerStyle,children:[(0,w.jsxs)(h.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(g.default,{style:[S.button_subStylefr,Se&&S.buttonPressed],onPress:function(){var e=R;if(Se)if(ve(!1),R==Je)I(""),H("[humorous/serious] & [talkative/concise]");else{var t=e.replace(new RegExp(" and "+Je,"g"),"").replace(new RegExp(Je,"g"),"");t.startsWith(" and")&&(t=t.replace(" and ","")),I(t),H(t)}else if(ve(!0),""==R)I(Je),H(Je);else{Re(!1);var n=e.replace(new RegExp(" and "+Ke,"g"),"").replace(new RegExp(Ke,"g"),"");n.startsWith(" and")&&(n=n.replace(" and ","")),""==n&&(I(Je),H(Je)),""!=n&&(I(n+" and "+Je),H(n+" and "+Je))}},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Je})}),(0,w.jsx)(g.default,{style:[S.button_subSStylefr,{marginLeft:24},ze&&S.buttonPressed],onPress:function(){var e=R;if(ze)if(Re(!1),R==Ke)I(""),H("[humorous/serious] & [talkative/concise]");else{var t=e.replace(new RegExp(" and "+Ke,"g"),"").replace(new RegExp(Ke,"g"),"");t.startsWith(" and")&&(t=t.replace(" and ","")),I(t),H(t)}else if(Re(!0),""==R)I(Ke),H(Ke);else{ve(!1);var n=e.replace(new RegExp(" and "+Je,"g"),"").replace(new RegExp(Je,"g"),"");n.startsWith(" and")&&(n=n.replace(" and ","")),""==n&&(I(Ke),H(Ke)),""!=n&&(I(n+" and "+Ke),H(n+" and "+Ke))}},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Ke})}),(0,w.jsx)(f.default,{style:[S.concator,{marginLeft:25,marginTop:5}],children:"or"})]}),(0,w.jsx)(f.default,{style:S.buttonText_sub,children:"    "}),(0,w.jsxs)(h.default,{style:{flexDirection:"row"},children:[(0,w.jsx)(g.default,{style:[S.button_subStyle,De&&S.buttonPressed],onPress:function(){var e=R;if(De)if(Fe(!1),R==Ze)I(""),H("[humorous/serious] & [talkative/concise]");else{var t=e.replace(new RegExp(" and "+Ze,"g"),"").replace(new RegExp(Ze,"g"),"");t.startsWith(" and")&&(t=t.replace(" and ","")),I(t),H(t)}else if(Fe(!0),""==R)I(Ze),H(Ze);else{qe(!1);var n=e.replace(new RegExp(" and "+Qe,"g"),"").replace(new RegExp(Qe,"g"),"");n.startsWith(" and")&&(n=n.replace(" and ","")),""==n&&(I(Ze),H(Ze)),""!=n&&(I(n+" and "+Ze),H(n+" and "+Ze))}},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Ze})}),(0,w.jsx)(g.default,{style:[S.button_subSStyle,{marginLeft:30},Ee&&S.buttonPressed],onPress:function(){var e=R;if(Ee)if(qe(!1),R==Qe)I(""),H("[humorous/serious] & [talkative/concise]");else{var t=e.replace(new RegExp(" and "+Qe,"g"),"").replace(new RegExp(Qe,"g"),"");t.startsWith(" and")&&(t=t.replace(" and ","")),I(t),H(t)}else if(qe(!0),""==R)I(Qe),H(Qe);else{Fe(!1);var n=e.replace(new RegExp(" and "+Ze,"g"),"").replace(new RegExp(Ze,"g"),"");n.startsWith(" and")&&(n=n.replace(" and ","")),""==n&&(I(Qe),H(Qe)),""!=n&&(I(n+" and "+Qe),H(n+" and "+Qe))}},children:(0,w.jsx)(f.default,{style:S.buttonText_sub,children:Qe})})]})]}),(0,w.jsx)(f.default,{style:S.spaceText,children:"  "}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:R,onChange:function(e){""==e.target.value&&(I("[humorous/serious] & [talkative/concise]"),H("[humorous/serious] & [talkative/concise]")),I(e.target.value),H(e.target.value)},placeholder:"Add additional styles you like here.",style:S.input}),(0,w.jsx)(h.default,{style:S.line})]})]})]}),(0,w.jsxs)(h.default,{style:S.rightColumn,children:[(0,w.jsx)(h.default,{style:S.spaceSub}),(0,w.jsxs)(h.default,{style:S.bubble,children:[(0,w.jsxs)(h.default,{style:S.bubbleText,children:[(0,w.jsx)(f.default,{styles:R.textsubS,children:" "}),(0,w.jsx)(f.default,{style:S.textsubTittle,children:"Hi there,"}),(0,w.jsxs)(f.default,{style:S.textsub,children:["my name is Avery, a ",(0,w.jsx)(f.default,{style:S.textsubBold,children:Y})," who provides personalized food recommendations to people by talking to them and gathering their dietary needs. I am ",(0,w.jsx)(f.default,{style:S.textsubBold,children:q}),", and tend to speak in a ",(0,w.jsx)(f.default,{style:S.textsubBold,children:M})," way."]}),(0,w.jsx)(f.default,{styles:R.textsubS,children:" "}),(0,w.jsxs)(f.default,{style:S.textsub,children:["During our conversation, I normally respond with an ",(0,w.jsx)(f.default,{style:S.textsubBold,children:"facial expressions"})," like ",(0,w.jsx)(f.default,{style:S.textbBold,children:"[speaking]"}),". If you see ",(0,w.jsx)(f.default,{style:S.textbBold,children:"[typing]"}),", that means that I'm still work on generating a response."]})]}),(0,w.jsxs)(h.default,{style:S.avatar,children:[(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(9298)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[speaking]"})]}),(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(5481)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[typing]"})]})]}),(0,w.jsx)(h.default,{style:[S.bubbleTextSub,{marginBottom:30}],children:(0,w.jsx)(f.default,{style:S.textsub,children:"Sometimes, I also change my facial expression depending on how I feel. Here are some examples and what they mean."})}),(0,w.jsxs)(h.default,{style:[S.avatar,{marginBottom:10}],children:[(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(6724)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[happy]"})]}),(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(3361)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[sad]"})]}),(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(4719)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[excited]"})]}),(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(1983)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[content]"})]}),(0,w.jsxs)(h.default,{style:[S.sigAva,{marginBottom:30}],children:[(0,w.jsx)(b.default,{style:S.bot,source:n(94)}),(0,w.jsx)(f.default,{style:S.textbBold,children:"[sorry]"})]})]})]}),(0,w.jsx)(h.default,{style:S.space})]})]}),(0,w.jsx)(h.default,{style:S.warncontainer,children:(0,w.jsx)(f.default,{style:S.warntexts,children:re})})]}),(0,w.jsx)(h.default,{style:S.bottomContainer,children:(0,w.jsx)(g.default,{style:[{marginRight:.1*o,width:.115*o,height:.03*l,backgroundColor:$,justifyContent:"center",alignItems:"center"},J&&{backgroundColor:"#597E52"}],onPress:(0,a.default)((function*(){if(""==v)ae(p.cusp);else if(""==R)ae(p.cuss);else if(""==F)ae(p.cusiden);else{ae(""),oe(!0);var e=yield x(se,v,R,F);console.log("status",e),t.navigate("Chat")}})),onFocus:function(){K(!0)},onBlur:function(){K(!1)},disabled:ne,children:(0,w.jsx)(f.default,{style:S.buttonText,children:"Next: Conversation"})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var S=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},bottomContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},columContainer:{flex:1,flexDirection:"row"},leftColumn:{flex:1,padding:10},rightColumn:{flex:1,backgroundColor:"white",padding:10,justifyContent:"center",alignItems:"center"},bubble:{flex:1,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,width:"90%",borderWidth:1.5,borderColor:"black",flexDirection:"column",justifyContent:"center"},bubbleText:{flex:.6,backgroundColor:"white",paddingHorizontal:10,flexDirection:"column",justifyContent:"flex-start"},bubbleTextSub:{flex:.09,backgroundColor:"white",paddingHorizontal:10,flexDirection:"column",justifyContent:"flex-start"},avatar:{flex:.15,backgroundColor:"white",paddingHorizontal:10,flexDirection:"row",justifyContent:"center",alignItems:"center"},sigAva:{flex:1,backgroundColor:"white",paddingHorizontal:10,flexDirection:"column",justifyContent:"center",alignItems:"center"},space:{flex:.1,backgroundColor:"white",width:"90%",paddingHorizontal:10,flexDirection:"column",justifyContent:"center"},spaceSub:{flex:.06,backgroundColor:"white",width:"90%",paddingHorizontal:10,flexDirection:"column",justifyContent:"center"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},valcontainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},valcontainerMid:{flex:.5,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},valcontainerSub:{flex:.15,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white"},warncontainer:{flex:.1,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white"},buttoncontainer:{flexDirection:"row",alignItems:"center",justifyContent:"start",paddingHorizontal:15,width:"92%",paddingHorizontal:75},buttoncontainerStyle:{flexDirection:"column",alignItems:"start",justifyContent:"center",paddingHorizontal:15,width:"92%",paddingHorizontal:75},dropDownContainer:{height:"90%"},input:{fontSize:16,padding:0,border:"none",width:"150%",height:"150%",paddingHorizontal:15,marginLeft:75,outlineWidth:"none"},line:{width:"150%",height:1,backgroundColor:"black",marginLeft:75,borderWidth:1},question:{fontFamily:"Roboto",fontSize:17,color:"black",fontWeight:"bold",paddingHorizontal:75},concator:{fontFamily:"Roboto",fontSize:17,color:"black",fontWeight:"bold"},textsub:{fontFamily:"Roboto",fontSize:16,color:"black"},textsubS:{fontFamily:"Roboto",fontSize:9,color:"black"},textsubTittle:{fontFamily:"Roboto",fontSize:22,color:"black",fontWeight:"bold"},textsubBold:{fontFamily:"Roboto",fontSize:16,color:"#597E52",fontWeight:"bold"},textbBold:{fontFamily:"Roboto",fontSize:17,color:"black",fontWeight:"bold"},questionPlus:{fontFamily:"Roboto",fontSize:22,color:"#597E52",fontWeight:"bold",paddingHorizontal:75,top:"30%"},warntexts:{fontFamily:"Roboto",fontSize:12,color:"red",marginLeft:75},button:{flexDirection:"column",marginLeft:75,width:"80%",height:"20%",backgroundColor:"#86A789",justifyContent:"center",alignItems:"center",left:"170%"},buttonPressed:{backgroundColor:"#597E52"},buttonText:{fontFamily:"Roboto",color:"white",textAlign:"center",textAlignVertical:"center",fontSize:16},button_sub:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"28%",borderRadius:20,padding:10,borderColor:"gray"},button_subStyle:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"55%",borderRadius:20,padding:10,borderColor:"gray"},button_subStylefr:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"47%",borderRadius:20,padding:10,borderColor:"gray"},button_subM:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"23%",borderRadius:20,padding:10,borderColor:"gray"},button_subMStyle:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"53%",borderRadius:20,padding:10,borderColor:"gray"},button_subS:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"20%",borderRadius:20,padding:10,borderColor:"gray"},button_subSStyle:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"44%",borderRadius:20,padding:10,borderColor:"gray"},button_subSStylefr:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"36%",borderRadius:20,padding:10,borderColor:"gray"},button_subP:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"40%",borderRadius:20,padding:10,borderColor:"gray"},buttonText_sub:{fontFamily:"Roboto",color:"white",textAlign:"center",textAlignVertical:"center",fontWeight:"bold",fontSize:16},spaceText:{fontFamily:"Roboto",color:"white",textAlign:"center",textAlignVertical:"center",fontWeight:"bold",fontSize:12},bot:{width:65,height:65}}),v=n(4942),k=n(8094),T=n(6123),z=n(6065);const R=function(e){return Math.floor(4*Math.random()).toString(),new Promise((function(t,n){var o={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e})};fetch("https://www.foodcrs.com/icebreak",o).then((function(e){return e.json()})).then((function(e){return t(e.icebreak)})).catch((function(e){return n(e)}))}))};const I=function(e,t,n,o){return Math.floor(4*Math.random()).toString(),new Promise((function(i,l){var r={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,user:t,control:n,choosefood:o})};fetch("https://www.foodcrs.com/back",r).then((function(e){return e.json()})).then((function(e){return i(e.chatbot)})).catch((function(e){return l(e)}))}))};const P=function(e){return Math.floor(4*Math.random()).toString(),new Promise((function(t,n){var o={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e})};fetch("https://www.foodcrs.com/senti",o).then((function(e){return e.json()})).then((function(e){return t(e.sentiment)})).catch((function(e){return n(e)}))}))};var D="I prefer the first one.",F="I prefer the second one.",W="I am OK with either of them.",A="I like neither of them.",E="I am glad that the recommendation works! Hope you enjoy the meal when you try it out!",q="I am glad you like my recommendation! Enjoy your meal when you try it out!",B="Alright, it seems we have different tastes, but it's still nice to talk to you!",L="Searching finished! Here are two recommendations:",O="Scroll up to check the two recommendations. Would you like to try any of them in the following days?",M="I got a better idea! Here are my recommendations:",H="Please scroll up to check my recommendations. Now would you like to try any of them in the following days?";const _=n.p+"static/media/openai-svgrepo-com.04ad457f0e1c677f769f.svg";function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,v.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=!1,G=!0,U=!1,J="none",K="none",Z="";var Q=c.default.create({background:{flex:1,backgroundColor:"white",paddingHorizontal:10,flexDirection:"column",alignItems:"center"},textContainer:{flex:1,backgroundColor:"white",paddingHorizontal:10,flexDirection:"row",alignItems:"center"},titleContainer:{flex:1,backgroundColor:"white",paddingHorizontal:10,flexDirection:"row",alignItems:"center"},buttonText:{fontFamily:"Roboto",color:"white",textAlign:"center",textAlignVertical:"center",fontSize:16},bubbleText:{left:{fontFamily:"Roboto",fontSize:18,color:"black"},right:{fontFamily:"Roboto",fontSize:18,color:"black"}},imgText:{fontFamily:"Roboto",fontSize:18,color:"black"},boldText:{fontFamily:"Roboto",fontSize:18,color:"white",fontWeight:"bold"},text:{fontFamily:"Roboto",fontSize:18,color:"black"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},button:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"18%",borderRadius:8.5,padding:10,borderColor:"#86A789",margintop:20},buttonsub:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"33%",borderRadius:8.5,padding:10,borderColor:"#86A789",margintop:20},buttonsubShort:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"9%",borderRadius:8.5,padding:10,borderColor:"#86A789",margintop:20},buttonsubMid:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"11%",borderRadius:8.5,padding:10,borderColor:"#86A789",margintop:20},buttonsubPress:{backgroundColor:"#597E52"},waiting:{left:{backgroundColor:"white",borderColor:"black",borderWidth:1.5},right:{backgroundColor:"#D2E3C8"}},working:{left:{backgroundColor:"white",width:"65%",borderColor:"black",borderWidth:1.5},right:{backgroundColor:"#D2E3C8",width:"65%"}},inputToolbarContainer:{borderTopWidth:1,borderBottomWidth:1,borderColor:"black",top:"5%"},image:{width:500,height:300,marginRight:8},sendButton:{justifyContent:"center",alignItems:"center",backgroundColor:"white",marginBottom:9},sendButtonText:{color:"#597E52",fontSize:20,fontWeight:"bold"},avatarContainer:{width:60,height:60},avatar:{flex:1,width:null,height:null,resizeMode:"contain"},bot:{marginBottom:20,marginLeft:15,width:65,height:65}});const $=function(e){var t=e.navigation,o=(0,i.useState)([]),l=(0,s.default)(o,2),r=l[0],d=l[1],u=(0,i.useState)(!1),c=(0,s.default)(u,2),x=c[0],m=c[1],p=(0,i.useState)(!1),C=(0,s.default)(p,2),S=C[0],v=C[1],N=(0,i.useState)(!1),$=(0,s.default)(N,2),X=$[0],ee=$[1],te=j().userId,ne=y.default.get("window").width,oe=.7*ne,ie={_id:1,name:"user"},le={_id:2,name:"chatbot",avatar:n(9298)},re=[{_id:2,name:"chatbot",avatar:n(9298)},{_id:2,name:"chatbot",avatar:n(6724)},{_id:2,name:"chatbot",avatar:n(3361)},{_id:2,name:"chatbot",avatar:n(1983)},{_id:2,name:"chatbot",avatar:n(4719)},{_id:2,name:"chatbot",avatar:n(5481)},{_id:2,name:"chatbot",avatar:n(94)}],ae=(0,i.useState)(!1),se=(0,s.default)(ae,2),de=se[0],ue=se[1],ce=(0,i.useState)(!1),fe=(0,s.default)(ce,2),he=fe[0],ge=fe[1],ye=(0,i.useState)(!1),be=(0,s.default)(ye,2),xe=be[0],me=be[1],pe=(0,i.useState)(!1),je=(0,s.default)(pe,2),we=je[0],Ce=je[1],Se=(0,i.useState)(!1),ve=(0,s.default)(Se,2),ke=ve[0],Te=ve[1],ze=(0,i.useState)(!1),Re=(0,s.default)(ze,2),Ie=Re[0],Pe=Re[1],De=(0,i.useState)(!1),Fe=(0,s.default)(De,2),We=Fe[0],Ae=Fe[1],Ee=(0,i.useState)(!1),qe=(0,s.default)(Ee,2),Be=qe[0],Le=qe[1],Oe=(0,i.useState)(!1),Me=(0,s.default)(Oe,2),He=Me[0],_e=Me[1];function Ne(){return(Ne=(0,a.default)((function*(e){var t=yield P(e),n=0;return"positive"==t&&(console.log("pos"),n=1),"negative"==t&&(console.log("neg"),n=2),"neutral"==t&&(console.log("neu"),n=0),n}))).apply(this,arguments)}function Ye(){return(Ye=(0,a.default)((function*(){Je("Typing",5);var e=yield R(te);d([{_id:1,text:e,createdAt:new Date,user:le}]),Qe()}))).apply(this,arguments)}function Ve(e,t){var n=t.indexOf(e);return-1!==n?t.slice(0,n)+t.slice(n+e.length):t}function Ge(e,t,n){return Ue.apply(this,arguments)}function Ue(){return Ue=(0,a.default)((function*(e,t,n){var o=yield I(te,e,t,n);if(o!=E&&o!=q&&o!=B||(V=!0),-1!=o.indexOf("[REC]")){var i="",l="";0==U&&(i=L,l=O,V=!0),1==U&&(i=M,l=H,V=!0),Qe(),Je(i,4);var r=o.split("[REC]"),a=r[0].split("[CAT]"),s=r[1].split("[CAT]"),d=a[0].split("[CLS]"),u=s[0].split("[CLS]"),c=d[0],f=d[1],h=u[0],g=u[1];J=c,K=h;var y=Ve(c,f),b=Ve(h,g);Ze(a[1],c+"\n"+y),Ze(s[1],h+"\n"+b),Je(l,4),U=!0}else{if(-1!=o.indexOf("[CAT]")){var x="",m="";0==C&&(x=L,m=O,V=!0),1==C&&(x=M,m=H,V=!0),Qe(),Je(x,4);var p=o.split("[CAT]"),j=p[0].split("[CLS]"),w=j[0],C=j[1];J=w,K="loss[ERROR]"+C,Ze(p[1],w+"\n"+C),Je(m,4),C=!0}if(o==E||o==q||o==B)o!=E&&o!=q||(Qe(),Je(o,3)),o==B&&(Qe(),Je(o,6));else{var S=yield function(e){return Ne.apply(this,arguments)}(te);console.log("index:**",S),Qe(),Je(o,S)}}G=!1})),Ue.apply(this,arguments)}function Je(e,t){var n={_id:Math.round(1e6*Math.random()),text:e,createdAt:new Date,user:le};"none"!=t&&(n={_id:Math.round(1e6*Math.random()),text:e,createdAt:new Date,user:re[t]}),Z=e,d((function(e){return T.GiftedChat.append(e,n)}))}function Ke(e){var t={_id:Math.round(1e6*Math.random()),text:e,createdAt:new Date,user:ie};d((function(e){return T.GiftedChat.append(e,t)}))}function Ze(e,t){var n={_id:Math.round(1e6*Math.random()),image:e,text:t,createdAt:new Date,user:re[4]};d((function(e){return T.GiftedChat.append(e,n)}))}function Qe(){d((function(e){return e.filter((function(e){return"Typing"!==e.text&&"Searching for food... This process may take a while"!==e.text}))}))}function $e(e,t,n,o){if(e.startsWith(t)){var i=e.split("\n");return(0,w.jsxs)(f.default,{children:[(0,w.jsx)(f.default,{style:{fontWeight:o},children:t}),i.length>1&&(0,w.jsx)(f.default,{children:"\n"}),i.slice(1).map((function(e,t){return(0,w.jsxs)(f.default,{children:[t>0&&(0,w.jsx)(f.default,{children:"\n"}),e]},t)}))]})}if(e.startsWith(n)){var l=e.split("\n");return(0,w.jsxs)(f.default,{children:[(0,w.jsx)(f.default,{style:{fontWeight:o},children:n}),l.length>1&&(0,w.jsx)(f.default,{children:"\n"}),l.slice(1).map((function(e,t){return(0,w.jsxs)(f.default,{children:[t>0&&(0,w.jsx)(f.default,{children:"\n"}),e]},t)}))]})}return e}(0,i.useEffect)((function(){G=!0,function(){Ye.apply(this,arguments)}(),G=!1}),[]);var Xe=(0,i.useCallback)((function(e){var t=e[0],n=Y(Y({_id:Math.round(1e6*Math.random())},t),{},{createdAt:new Date,user:ie});d((function(e){return T.GiftedChat.append(e,n)})),console.log("control:",G);var o=n.text,i="none";0==G&&((o==D||o==F||W)&&(i="<left>"),o==A&&(i="<right>"),G=!0,Je("OK, do you have anything else to add before I recommend some food for you, such as flavor, style?"==Z||"Could you tell me why you don't like these foods?"==Z?"Searching for food... This process may take a while":"Typing",5),Ge(o,i,"none"))}),[]),et=function(e){var t=e.currentMessage,n=e.imageProps,o=t.text,l=null;if(l="Typing"==o||"Searching for food... This process may take a while"==o||o.length<78?Q.waiting:Q.working,o==L||o==M)return console.log("prefix"),(0,w.jsx)(h.default,{style:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",padding:8,backgroundColor:"white",width:"42.5%",borderTopRightRadius:15,borderBottomRightRadius:15,borderTopLeftRadius:15,borderColor:"black",borderWidth:1.5,marginLeft:23},children:(0,w.jsx)(f.default,{style:Q.imgText,children:o})});if(t.image){var r=(0,i.useState)(!0),a=(0,s.default)(r,2),d=a[0],u=a[1];return(0,w.jsxs)(h.default,{style:{flexDirection:"column",alignItems:"center",justifyContent:"center",padding:8,backgroundColor:"white",width:"61%",borderTopRightRadius:15,borderBottomRightRadius:15,borderColor:"black",borderWidth:1.5,marginLeft:23},children:[d&&(0,w.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,w.jsx)(f.default,{style:Q.imgText,children:"Loading the food image "}),(0,w.jsx)(k.default,{style:{justifyContent:"flex-start",marginLeft:5},size:"small",color:"#597E52"})]}),(0,w.jsx)(b.default,Y({source:{uri:t.image},style:{width:ne,height:.15*ne,marginRight:8},onLoad:function(){return u(!1)},resizeMode:"contain"},n)),(0,w.jsx)(f.default,{style:Q.imgText,children:$e(o,J,K,"bold")})]})}return(0,w.jsx)(T.Bubble,Y(Y({},e),{},{wrapperStyle:l,textStyle:Q.bubbleText}))};return(0,w.jsx)(z.SafeAreaProvider,{children:(0,w.jsxs)(h.default,{style:Q.background,children:[(0,w.jsx)(h.default,{style:Q.titleContainer,children:(0,w.jsx)(f.default,{style:Q.title,children:"Let's chat!"})}),(0,w.jsx)(h.default,{style:{flex:9,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,borderColor:"black",borderWidth:2,width:oe},children:(0,w.jsx)(T.GiftedChat,{messages:r,onSend:function(e){return Xe(e)},user:ie,renderBubble:function(e){return(0,w.jsx)(et,Y({},e))},renderSend:function(e){return(0,w.jsx)(T.Send,Y(Y({},e),{},{children:(0,w.jsx)(h.default,{style:Q.sendButton,children:(0,w.jsx)(f.default,{style:Q.sendButtonText,children:"Send"})})}))},renderInputToolbar:function(e){if(1!=V)return(0,w.jsx)(h.default,{style:Q.inputToolbarContainer,children:(0,w.jsx)(T.InputToolbar,Y({},e))});console.log("end")},renderMessageText:function(e){var n=e.currentMessage.text;return"Typing"==n||"Searching for food... This process may take a while"==n?(0,w.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[(0,w.jsx)(T.MessageText,Y({},e)),(0,w.jsx)(k.default,{style:{justifyContent:"flex-start",marginLeft:-15},size:"small",color:"#597E52"}),(0,w.jsx)(f.default,{children:"    "})]}):n==O?(0,w.jsxs)(h.default,{children:[(0,w.jsx)(T.MessageText,Y({},e)),(0,w.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"center",marginTop:10},children:[(0,w.jsx)(g.default,{style:[Q.buttonsub,de&&Q.buttonsubPress],onPress:function(){ue(!0),V=!1,m(!0),Ke(D),Ge(D,"<left>","First: "+J),Je("Typing",5)},disabled:x,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"First Recommendation"})}),(0,w.jsx)(f.default,{style:Q.buttonText,children:"    "}),(0,w.jsx)(g.default,{style:[Q.buttonsub,he&&Q.buttonsubPress],onPress:function(){ge(!0),V=!1,m(!0),Ke(F),Ge(F,"<left>","Second: "+K),Je("Typing",5)},disabled:x,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Second Recommendation"})}),(0,w.jsx)(f.default,{style:Q.buttonText,children:"    "}),(0,w.jsx)(g.default,{style:[Q.buttonsubShort,xe&&Q.buttonsubPress],onPress:function(){me(!0),V=!1,m(!0),Ke(W),Ge(W,"<left>","Either: "+J+"[or]"+K),Je("Typing",5)},disabled:x,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Either"})}),(0,w.jsx)(f.default,{style:Q.buttonText,children:"    "}),(0,w.jsx)(g.default,{style:[Q.buttonsubMid,we&&Q.buttonsubPress],onPress:function(){Ce(!0),V=!1,m(!0),Ke(A),Ge(A,"<right>","none"),Je("Typing",5)},disabled:x,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Neither"})})]})]}):n==H?(0,w.jsxs)(h.default,{children:[(0,w.jsx)(T.MessageText,Y({},e)),(0,w.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"center",marginTop:10},children:[(0,w.jsx)(g.default,{style:[Q.buttonsub,ke&&Q.buttonsubPress],onPress:function(){Te(!0),V=!1,v(!0),Ke(D),Ge(D,"none","First: "+J),Je("Typing",5)},disabled:S,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"First Recommendation"})}),(0,w.jsx)(f.default,{style:Q.buttonText,children:"    "}),(0,w.jsx)(g.default,{style:[Q.buttonsub,Ie&&Q.buttonsubPress],onPress:function(){Pe(!0),V=!1,v(!0),Ke(F),Ge(F,"none","Second: "+K),Je("Typing",5)},disabled:S,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Second Recommendation"})}),(0,w.jsx)(f.default,{style:Q.buttonText,children:"    "}),(0,w.jsx)(g.default,{style:[Q.buttonsubShort,We&&Q.buttonsubPress],onPress:function(){Ae(!0),V=!1,v(!0),Ke(W),Ge(W,"none","Either: "+J+"[or]"+K),Je("Typing",5)},disabled:S,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Either"})}),(0,w.jsx)(f.default,{style:Q.buttonText,children:"    "}),(0,w.jsx)(g.default,{style:[Q.buttonsubMid,Be&&Q.buttonsubPress],onPress:function(){Le(!0),V=!1,v(!0),Ke(A),Ge(A,"none","none"),Je("Typing",5)},disabled:S,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Neither"})})]})]}):n==E||n==q||n==B?(0,w.jsxs)(h.default,{children:[(0,w.jsx)(T.MessageText,Y({},e)),(0,w.jsx)(h.default,{style:{flexDirection:"row",justifyContent:"center",marginTop:10},children:(0,w.jsx)(g.default,{style:[Q.button,He&&{backgroundColor:"#597E52"}],onPress:function(){_e(!0),ee(!0),t.navigate("End")},disabled:X,children:(0,w.jsx)(f.default,{style:Q.buttonText,children:"Next Step"})})})]}):(0,w.jsx)(h.default,{children:(0,w.jsx)(T.MessageText,Y({},e))})},renderAvatar:function(e){return(0,w.jsx)(h.default,{style:Q.avatarContainer,children:(0,w.jsx)(b.default,{source:e.currentMessage.user.avatar,style:Q.avatar})})}})}),(0,w.jsxs)(h.default,{style:Q.textContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:14,color:"black",left:.08*ne},children:"Powered by "}),(0,w.jsx)(b.default,{source:_,style:{width:22,height:22,left:.08*ne}}),(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:14,color:"black",left:.08*ne},children:" OpenAI GPT-4 API and DALL\xb7E3, the chatbot icons are designed by Sergey Stepanov / Alamy Stock Vector."})]})]})})};const X=function(e,t,n,o,i,l,r,a,s,d,u,c,f,h,g,y,b,x,m,p,j,w,C){return Math.floor(4*Math.random()).toString(),new Promise((function(S,v){var k={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,acca:t,expa:n,expb:o,expc:i,intera:l,usefa:r,usefb:a,trusta:s,trustb:d,eata:u,useia:c,useib:f,useic:h,quaa:g,ada:y,adb:b,edul:x,workf:m,race:p,hper:j,feedback:w,extra:C})};fetch("https://www.foodcrs.com/end",k).then((function(e){return e.json()})).then((function(e){return S(e.status)})).catch((function(e){return v(e)}))}))};var ee={acca:"1. The food that chatbot recommends to me matches my preferences and health conditions.",expa:"2. I am satisfied with the images of the recommended foods.",expb:"3. The text explanation of the food recommendation was sufficient for me to make a decision.",expc:"4. I understand why the foods were recommended to me.",intera:"5. I found it easy to inform the chatbot what I like or dislike.",usefa:"6. The chatbot gave me good suggestions.",usefb:"7. Following the recommendations from the chatbot is easy.",trusta:"8. I am convinced of what the chatbot recommends to me.",trustb:"9. The chatbot can be trusted.",eata:"10. I would like to eat the food that the chatbot recommended in the following days.",extra:"11. I do not understand why chatbot recommended the foods to me.",useia:"12. I would like to use the chatbot for food recommendations again.",useib:"13. I would like to use the chatbot for food recommendations frequently if possible.",useic:"14. I would like to tell my friends about this chatbot for food recommendations.",quaa:"15. Overall, I am satisfied with the recommended foods.",ada:"16. During the conversation, the chatbot is able to detect my intention and  feelings, and responds appropriately, such as switching topics and changing expressions.",adb:"17. I enjoy the conversation with the chatbot.",q1:"18. What is your highest level of education?",q2:"19. Which of the following best describes your focus of work?",q3:"20. Which race/ethnicity best describes you?",q4:"21. Which of the following words is closer to your personality?",q5:"22. Do you have any additional thoughts and feedback on this chatbot-based recommender system? (more than 5 words)"},te={prefix:'Before concluding the survey, please answer the following questions so that we can make improvements to the system. Please scroll down to finish all the questions, and try not to select "neutral".',fb1:"1, What do you think of the overall recommendation quality?",fb2:"2, What do you think of the overall chatbot intelligence?",fb3:"3, What do you think of the overall chatting experience?",q1:"4, What is your highest level of education?",q2:"5, Which of the following best describes your focus of work?",q3:"6, Which race/ethnicity best describes you?"},ne=c.default.create({question:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},checkbox:{marginLeft:75,height:16,width:16},checkText:{fontFamily:"Roboto",color:"black",fontSize:16}});const oe=function(e){var t=e.question,n=e.options,o=e.onChange,l=e.containerStyle,r=(0,i.useState)(null),a=(0,s.default)(r,2),d=a[0],u=a[1],c=function(e){u(e),o&&o(e)};return(0,w.jsxs)(h.default,{style:l,children:[(0,w.jsx)(f.default,{style:ne.question,children:t}),n.map((function(e,t){return(0,w.jsx)(h.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:d===e,style:ne.checkbox,onChange:function(){return c(e)}}),(0,w.jsx)(f.default,{style:ne.checkText,children:e})]})},t)}))]})};var ie=c.default.create({question:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},checkbox:{marginLeft:75,height:16,width:16},checkText:{fontFamily:"Roboto",color:"black",fontSize:16}});const le=function(e){var t=e.question,n=e.options,o=e.onChange,l=(0,i.useState)(null),r=(0,s.default)(l,2),a=r[0],d=r[1],u=function(e){d(e),o&&o(e)};return(0,w.jsxs)(h.default,{children:[(0,w.jsx)(f.default,{style:ie.question,children:t}),n.map((function(e,t){return(0,w.jsx)(h.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:a===e,style:ie.checkbox,onChange:function(){return u(e)}}),(0,w.jsx)(f.default,{style:ie.checkText,children:e})]})},t)}))]})};var re=n(9219),ae=n.n(re),se=c.default.create({container:{flexDirection:"column",alignItems:"center",justifyContent:"center"},sliderContainer:{alignItems:"center",justifyContent:"center",width:400,marginLeft:130,marginTop:15},question:{fontFamily:"Roboto",fontSize:17,color:"black",fontWeight:"bold",marginLeft:75},slider:{width:"100%"},scaleMarksContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:15,marginLeft:75},scaleMarkText:{fontFamily:"Roboto",color:"black",fontSize:14},progressText:{fontFamily:"Roboto",color:"black",fontSize:16,fontWeight:"bold",marginTop:8,marginLeft:75},button:{backgroundColor:"#597E52",borderRadius:5,marginTop:20},buttonText:{color:"white",fontWeight:"bold",textAlign:"center"},thumbStyle:{width:15,height:15,borderRadius:7.5}});const de=function(e){var t=e.question,n=e.onChange,o=e.containerStyle,l=(0,i.useState)(3),r=(0,s.default)(l,2),a=r[0],d=r[1],u=(y.default.get("window").width,function(e){switch(e){case 0:return"strongly disagree";case 1:return"disagree";case 2:return"slightly disagree";case 3:default:return"neutral";case 4:return"slightly agree";case 5:return"agree";case 6:return"strongly agree"}});return(0,w.jsxs)(h.default,{style:o,children:[(0,w.jsx)(f.default,{style:se.question,children:t}),(0,w.jsx)(h.default,{style:se.sliderContainer,children:(0,w.jsx)(ae(),{style:se.slider,minimumValue:0,maximumValue:6,step:1,value:a,onValueChange:function(e){d(e),n(u(e))},minimumTrackTintColor:"#D2E3C8",maximumTrackTintColor:"gray",thumbTintColor:"#597E52",thumbStyle:se.thumbStyle})}),(0,w.jsxs)(h.default,{style:se.scaleMarksContainer,children:[(0,w.jsx)(f.default,{style:se.scaleMarkText,children:"strongly disagree"}),(0,w.jsx)(f.default,{style:[se.scaleMarkText,{marginLeft:115}],children:"neutral"}),(0,w.jsx)(f.default,{style:[se.scaleMarkText,{marginLeft:125}],children:"strongly agree"})]}),(0,w.jsx)(h.default,{children:(0,w.jsxs)(f.default,{style:se.progressText,children:["current choice: ",(0,w.jsx)(f.default,{style:{color:"#597E52"},children:u(a)})]})})]})};function ue(e){var t=e.navigation,n=y.default.get("window").width,o=.8*n,l=y.default.get("window").height,r=.8*l,c=.1*l,b=(0,i.useState)(""),x=(0,s.default)(b,2),m=x[0],C=x[1],S=(0,i.useState)("neutral"),v=(0,s.default)(S,2),k=v[0],T=v[1],z=(0,i.useState)("neutral"),R=(0,s.default)(z,2),I=R[0],P=R[1],D=(0,i.useState)("neutral"),F=(0,s.default)(D,2),W=F[0],A=F[1],E=(0,i.useState)("neutral"),q=(0,s.default)(E,2),B=q[0],L=q[1],O=(0,i.useState)("neutral"),M=(0,s.default)(O,2),H=M[0],_=M[1],N=(0,i.useState)("neutral"),Y=(0,s.default)(N,2),V=Y[0],G=Y[1],U=(0,i.useState)("neutral"),J=(0,s.default)(U,2),K=J[0],Z=J[1],Q=(0,i.useState)("neutral"),$=(0,s.default)(Q,2),ne=$[0],ie=$[1],re=(0,i.useState)("neutral"),ae=(0,s.default)(re,2),se=ae[0],ue=ae[1],fe=(0,i.useState)("neutral"),he=(0,s.default)(fe,2),ge=he[0],ye=he[1],be=(0,i.useState)("neutral"),xe=(0,s.default)(be,2),me=xe[0],pe=xe[1],je=(0,i.useState)("neutral"),we=(0,s.default)(je,2),Ce=we[0],Se=we[1],ve=(0,i.useState)("neutral"),ke=(0,s.default)(ve,2),Te=ke[0],ze=ke[1],Re=(0,i.useState)("neutral"),Ie=(0,s.default)(Re,2),Pe=Ie[0],De=Ie[1],Fe=(0,i.useState)("neutral"),We=(0,s.default)(Fe,2),Ae=We[0],Ee=We[1],qe=(0,i.useState)("neutral"),Be=(0,s.default)(qe,2),Le=Be[0],Oe=Be[1],Me=(0,i.useState)("neutral"),He=(0,s.default)(Me,2),_e=He[0],Ne=He[1],Ye=(0,i.useState)(""),Ve=(0,s.default)(Ye,2),Ge=Ve[0],Ue=Ve[1],Je=(0,i.useState)(""),Ke=(0,s.default)(Je,2),Ze=Ke[0],Qe=Ke[1],$e=(0,i.useState)(""),Xe=(0,s.default)($e,2),et=Xe[0],tt=Xe[1],nt=(0,i.useState)(""),ot=(0,s.default)(nt,2),it=ot[0],lt=ot[1],rt=(0,i.useState)(""),at=(0,s.default)(rt,2),st=at[0],dt=at[1],ut=(0,i.useState)(""),ct=(0,s.default)(ut,2),ft=ct[0],ht=ct[1],gt=j().userId,yt=(0,i.useState)("Submit your feedback"),bt=(0,s.default)(yt,2),xt=bt[0],mt=bt[1],pt=(0,i.useState)(!1),jt=(0,s.default)(pt,2),wt=jt[0],Ct=jt[1],St=(0,i.useState)(!1),vt=(0,s.default)(St,2),kt=vt[0],Tt=vt[1],zt=(0,i.useState)("gray"),Rt=(0,s.default)(zt,2),It=Rt[0],Pt=Rt[1];(0,i.useEffect)((function(){""!=k&&""!=I&&""!=W&&""!=B&&""!=H&&""!=V&&""!=K&&""!=ne&&""!=se&&""!=ge&&""!=me&&""!=Ce&&""!=Te&&""!=Pe&&""!=Ae&&""!=Le&&""!=Ge&&""!=Ze&&""!=et&&""!=it&&""!=st&&""!=_e?(Pt("#86A789"),C("")):Pt("gray")}),[k,I,W,B,H,V,K,ne,se,ge,me,Ce,Te,Pe,Ae,Le,Ge,Ze,et,it,st,ft,_e]);return(0,w.jsxs)(h.default,{style:ce.container,children:[(0,w.jsx)(h.default,{style:[ce.titleContainer,{height:c}],children:(0,w.jsx)(f.default,{style:ce.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(u.default,{contentContainerStyle:{height:r,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,width:o,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"flex-start",overflow:"scroll",alignSelf:"center"},showsVerticalScrollIndicator:!0,children:[(0,w.jsx)(h.default,{style:ce.subTitleContainer,children:(0,w.jsx)(f.default,{style:ce.subTitle,children:te.prefix})}),(0,w.jsx)(de,{question:ee.acca,onChange:function(e){console.log("Selected option:",e),T(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.expa,onChange:function(e){console.log("Selected option:",e),P(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.expb,onChange:function(e){console.log("Selected option:",e),A(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.expc,onChange:function(e){console.log("Selected option:",e),L(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.intera,onChange:function(e){console.log("Selected option:",e),_(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.usefa,onChange:function(e){console.log("Selected option:",e),G(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.usefb,onChange:function(e){console.log("Selected option:",e),Z(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.trusta,onChange:function(e){console.log("Selected option:",e),ie(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.trustb,onChange:function(e){console.log("Selected option:",e),ue(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.eata,onChange:function(e){console.log("Selected option:",e),ye(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.extra,onChange:function(e){console.log("Selected option:",e),Ne(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.useia,onChange:function(e){console.log("Selected option:",e),pe(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.useib,onChange:function(e){console.log("Selected option:",e),Se(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.useic,onChange:function(e){console.log("Selected option:",e),ze(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.quaa,onChange:function(e){console.log("Selected option:",e),De(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.ada,onChange:function(e){console.log("Selected option:",e),Ee(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(de,{question:ee.adb,onChange:function(e){console.log("Selected option:",e),Oe(e)},containerStyle:ce.valcontainer}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsxs)(h.default,{style:ce.valcontainer,children:[(0,w.jsx)(le,{question:ee.q1,options:["High school diploma / GED","Associate degree","Bachelor's degree","Trade school certification","Master's degree or higher education","Other (please specify):"],onChange:function(e){console.log("Selected option:",e),Ue(e)}}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:ft,onChange:function(e){ht(e.target.value)},placeholder:"Please enter specific information here.",style:ce.input}),(0,w.jsx)(h.default,{style:ce.line})]})]}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(oe,{question:ee.q2,options:["Computer Science / Engineering","Creative Media / Design","Environmental Science","Physics / Chemistry / Biology","Business / Finance","Law","Medical Science / Healthcare","Publishing","Education","Social Science / Humanity","Service industry"],onChange:function(e){console.log("Selected option:",e),Qe(e)},containerStyle:[ce.valcontainer,{marginTop:5}]}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(oe,{question:ee.q3,options:["American Indian or Alaskan Native","Asian","Black or African American","Caucasian or White","Hispanic or Latino","Native Hawaiian or Other Pacific Islander","Multiracial / Other","Prefer not to say"],onChange:function(e){console.log("Selected option:",e),tt(e)},containerStyle:[ce.valcontainer,{marginTop:5}]}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsx)(oe,{question:ee.q4,options:["extroverted","neutral","introverted"],onChange:function(e){console.log("Selected option:",e),lt(e)},containerStyle:[ce.valcontainer,{marginTop:5}]}),(0,w.jsx)(f.default,{style:{fontSize:16,color:"white"},children:" "}),(0,w.jsxs)(h.default,{style:[ce.valcontainer,{marginTop:10}],children:[(0,w.jsx)(f.default,{style:[ce.question,{marginBottom:10}],children:ee.q5}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:st,onChange:function(e){dt(e.target.value)},placeholder:"Please enter your feedback here.",style:ce.input}),(0,w.jsx)(h.default,{style:ce.line})]})]}),(0,w.jsx)(h.default,{style:ce.valcontainer,children:(0,w.jsx)(f.default,{style:ce.warntexts,children:m})})]}),(0,w.jsx)(h.default,{style:[ce.bottomContainer,{height:c}],children:(0,w.jsx)(g.default,{style:[{marginRight:.1*n,width:.125*n,height:.03*l,backgroundColor:It,justifyContent:"center",alignItems:"center"},kt&&{backgroundColor:"#597E52"}],onFocus:function(){Tt(!0)},onBlur:function(){Tt(!1)},onPress:(0,a.default)((function*(){if(""!=k&&""!=I&&""!=W&&""!=B&&""!=H&&""!=V&&""!=K&&""!=ne&&""!=se&&""!=ge&&""!=me&&""!=Ce&&""!=Te&&""!=Pe&&""!=Ae&&""!=Le&&""!=Ge&&""!=Ze&&""!=et&&""!=it&&""!=st&&""!=_e){var e=st.trim().split(" ").length;if(console.log("words:",e),"Other (please specify):"==Ge&&""==ft||e<5)C(e>=5?p.edu:"Please enter more than 5 words in your feedback.");else if(1==!/^(?=.*[a-zA-Z])[\w\s.,?!;:'"()-]+$/.test(st))C("Please enter meaningful thoughts and feedback.");else{Ct(!0);var n=yield X(gt,k,I,W,B,H,V,K,ne,se,ge,me,Ce,Te,Pe,Ae,Le,Ge+"("+ft+")",Ze,et,it,st,_e);console.log("status",n),C(""),mt("Feedback submitted!"),t.navigate("ID")}}else C("Please finish the survey, thanks!")})),disabled:wt,children:(0,w.jsx)(f.default,{style:ce.buttonText,children:xt})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var ce=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},valcontainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white",marginBottom:10},bottomContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},subTitleContainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white",alignSelf:"stretch",marginTop:15,marginBottom:15},subTitle:{fontFamily:"Roboto",fontSize:18,color:"#597E52",fontWeight:"bold",marginLeft:75},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},input:{fontSize:16,border:"none",width:"200%",height:"100%",marginLeft:75,outlineWidth:"none"},line:{width:"200%",height:1,backgroundColor:"black",marginLeft:75,borderWidth:1},question:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},button:{flexDirection:"column",marginLeft:75,width:"80%",height:"30%",backgroundColor:"#86A789",justifyContent:"center",alignItems:"center",left:"215%"},buttonText:{fontFamily:"Roboto",color:"white",textAlign:"center",textAlignVertical:"center",fontSize:16},warntexts:{fontFamily:"Roboto",fontSize:12,color:"red",marginLeft:75},bot:{width:70,height:70}}),fe={intro:"Welcome to our research! You are invited to take part in a research study. Whether you take part is up to you.",reteam:"Principal Investigator: Dr. Yuhan Luo, Assistant Professor, City University of Hong Kong, Department of Computer Science;\nPrimary contact: Minhui Liang, Ph.D. Student, City University of Hong Kong, Department of Computer Science.",procedure:"In this survey, you will talk to a chatbot, which is designed to recommend personalized and healthy food for you. At the end of the conversation, you will be asked to decide whether you would like to take the recommend in the following week and a few questions about your conversation experience.\nThe survey consists of six parts: 1) filling out a short screening questionnaire to ensure that you meet the inclusion criteria; 2) providing your demographic and basic health information to prepare for the conversation; 3) customizing the chatbot (e.g., personality) according to your preference; 4) interacting with the chatbot to receive the recommendation; 5) providing your feedback with the recommending system; 6) You may receive a short follow-up survey in about one week after the study.\nOverall, the survey will take less than 15 minutes. Upon completion, you will receive 4 USD (~ 30 HKD or 3 GPB) to thank for your time.",risk:"The chatbot is powered by a large language model (LLM), which aims to recommend food by optimizing your eating preferences and health goals. While we have evaluated the recommendation results with professional nutritionists, the recommendation may not 100% fit your health profile. Therefore, the study is intended only for people *without* serious health concerns or food allergy.",bene:"1) You will have the opportunity to engage in a conversation with the latest large language model (LLM) and learn about their potentials.\n2) Through a short conversation with the chatbot, you will receive personalized food recommendations that could benefit your health.",confi:"All information gathered from this study will be kept confidential. Only the research team will have access to the data, and the raw data will be removed after the analysis is complete. Your privacy is of the utmost importance to us. Please note that you have the right to withdraw from this study at any time, particularly if you feel uncomfortable with the images presented."};function he(e){var t=e.navigation,n=y.default.get("window").width,o=y.default.get("window").height,l=.8*n,r=.8*o,a=.1*o,c=(0,i.useState)(!1),b=(0,s.default)(c,2),x=b[0],m=b[1],p=(0,i.useState)(!1),j=(0,s.default)(p,2),C=j[0],S=j[1],v=(0,i.useState)(!1),k=(0,s.default)(v,2),T=k[0],z=k[1],R=(0,i.useState)("gray"),I=(0,s.default)(R,2),P=I[0],D=I[1];return(0,i.useEffect)((function(){D(1==x?"#86A789":"gray")}),[x]),(0,w.jsxs)(h.default,{style:ge.container,children:[(0,w.jsx)(h.default,{style:[ge.titleContainer,{height:a}],children:(0,w.jsx)(f.default,{style:ge.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(u.default,{contentContainerStyle:{height:r,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,width:l,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"flex-start",overflow:"scroll",alignSelf:"center"},showsVerticalScrollIndicator:!0,children:[(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.subTitle,children:"Introduction"}),(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",paddingHorizontal:75},children:fe.intro}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.subTitle,children:"Research Team"}),(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",paddingHorizontal:75},children:fe.reteam}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.subTitle,children:"Study Procedure"}),(0,w.jsxs)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",paddingHorizontal:75},children:["In this survey, you will talk to a chatbot, which is designed to recommend personalized and healthy food for you. At the end of the conversation, you will be asked to decide whether you would like to take the recommend in the following week and a few questions about your conversation experience.\nThe survey consists of six parts: 1) filling out a short screening questionnaire to ensure that you meet the inclusion criteria; 2) providing your demographic and basic health information to prepare for the conversation; 3) customizing the chatbot (e.g., personality) according to your preference; 4) interacting with the chatbot to receive the recommendation; 5) providing your feedback with the recommending system;",(0,w.jsx)(f.default,{style:{color:"#597E52",fontWeight:"bold"},children:" 6) You may receive a short follow-up survey in about one week after the study."}),"\nOverall, the survey will take less than 15 minutes. Upon completion, you will receive 4 USD (~ 30 HKD or 3 GPB) to thank for your time."]}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.subTitle,children:"Potential Risk"}),(0,w.jsxs)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",paddingHorizontal:75},children:["The chatbot is powered by a large language model (LLM), which aims to recommend food by optimizing your eating preferences and health goals. While we have evaluated the recommendation results with professional nutritionists, the recommendation may not 100% fit your health profile. Therefore, the study is intended only for people ",(0,w.jsx)(f.default,{style:{color:"#597E52",fontWeight:"bold"},children:"without"})," serious health concerns or food allergy."]}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.subTitle,children:"Benefits"}),(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",paddingHorizontal:75},children:fe.bene}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.subTitle,children:"Confidentiality"}),(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",paddingHorizontal:75},children:fe.confi}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "}),(0,w.jsx)(f.default,{style:ge.question,children:"Do you consent to participate in the study?"}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:x,onChange:function(e){m(e.target.checked),S(!1)},style:ge.checkbox}),"Yes, I consent."]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:C,onChange:function(e){S(e.target.checked),m(!1)},style:ge.checkbox}),"No, I do not consent."]}),(0,w.jsx)(f.default,{style:ge.subTitle,children:" "})]}),(0,w.jsx)(h.default,{style:[ge.subTitleContainer,{height:a}],children:(0,w.jsx)(g.default,{style:[{marginRight:.1*n,width:.145*n,height:.03*o,backgroundColor:P,justifyContent:"center",alignItems:"center"},T&&{backgroundColor:"#597E52"}],onFocus:function(){z(!0)},onBlur:function(){z(!1)},onPress:function(){x&&t.navigate("Quali")},children:(0,w.jsx)(f.default,{style:ge.texts,children:"Next: Screening Questions"})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var ge=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},subTitleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},eleContainerPlus:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},eleContainerSub:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Roboto",fontSize:20,color:"black",fontWeight:"bold",marginLeft:75},question:{fontFamily:"Roboto",fontSize:20,color:"#597E52",fontWeight:"bold",marginLeft:75},texts:{fontFamily:"Roboto",fontSize:16,color:"white"},checkbox:{marginLeft:75,height:16,width:16},bot:{marginBottom:20,marginLeft:15,width:65,height:65}});function ye(e){var t=e.navigation,n=y.default.get("window").width,o=y.default.get("window").height,l=.8*n,r=(0,i.useState)(!1),a=(0,s.default)(r,2),c=a[0],b=a[1],x=(0,i.useState)(!1),j=(0,s.default)(x,2),C=j[0],S=j[1],v=(0,i.useState)(!1),k=(0,s.default)(v,2),T=k[0],z=k[1],R=(0,i.useState)(!1),I=(0,s.default)(R,2),P=I[0],D=I[1],F=(0,i.useState)(!1),W=(0,s.default)(F,2),A=W[0],E=W[1],q=(0,i.useState)(!1),B=(0,s.default)(q,2),L=B[0],O=B[1],M=(0,i.useState)(!1),H=(0,s.default)(M,2),_=H[0],N=H[1],Y=(0,i.useState)(!1),V=(0,s.default)(Y,2),G=V[0],U=V[1],J=(0,i.useState)(!1),K=(0,s.default)(J,2),Z=K[0],Q=K[1],$=(0,i.useState)(!1),X=(0,s.default)($,2),ee=X[0],te=X[1],ne=(0,i.useState)(!1),oe=(0,s.default)(ne,2),ie=oe[0],le=oe[1],re=(0,i.useState)(""),ae=(0,s.default)(re,2),se=ae[0],de=ae[1],ue=(0,i.useState)("gray"),ce=(0,s.default)(ue,2),fe=ce[0],he=ce[1];return(0,i.useEffect)((function(){1!=c||1!=A&&1!=L||1!=_||1!=ee?he("gray"):(he("#86A789"),de(""))}),[c,A,L,_,ee]),(0,w.jsxs)(u.default,{contentContainerStyle:be.container,children:[(0,w.jsx)(h.default,{style:be.titleContainer,children:(0,w.jsx)(f.default,{style:be.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(u.default,{contentContainerStyle:{flex:9,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,width:l,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"center",alignSelf:"center"},children:[(0,w.jsx)(h.default,{style:be.subTitleContainer,children:(0,w.jsx)(f.default,{style:be.subTitle,children:m.prefix})}),(0,w.jsxs)(h.default,{style:be.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.first}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:c,onChange:function(e){b(e.target.checked),S(!1)},style:be.checkbox}),"Yes"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:C,onChange:function(e){S(e.target.checked),b(!1)},style:be.checkbox}),"No"]})]}),(0,w.jsxs)(h.default,{style:be.eleContainerPlus,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.second}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:T,onChange:function(e){z(e.target.checked),D(!1),E(!1),O(!1)},style:be.checkbox}),"Not fluent at all"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:P,onChange:function(e){D(e.target.checked),z(!1),E(!1),O(!1)},style:be.checkbox}),"A little bit"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:A,onChange:function(e){E(e.target.checked),z(!1),D(!1),O(!1)},style:be.checkbox}),"Fluent"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:L,onChange:function(e){O(e.target.checked),z(!1),D(!1),E(!1)},style:be.checkbox}),"I am a native speaker"]})]}),(0,w.jsxs)(h.default,{style:be.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.third}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:_,onChange:function(e){N(e.target.checked),U(!1)},style:be.checkbox}),"Yes"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:G,onChange:function(e){U(e.target.checked),N(!1)},style:be.checkbox}),"No"]})]}),(0,w.jsxs)(h.default,{style:be.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.fourth}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:Z,onChange:function(e){Q(e.target.checked),te(!1)},style:be.checkbox}),"Yes"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:ee,onChange:function(e){te(e.target.checked),Q(!1)},style:be.checkbox}),"No"]})]}),(0,w.jsx)(h.default,{style:be.eleContainerSub,children:(0,w.jsx)(f.default,{style:be.warntexts,children:se})})]}),(0,w.jsx)(h.default,{style:be.bottomContainer,children:(0,w.jsx)(g.default,{style:[{marginRight:.1*n,width:.105*n,height:.03*o,backgroundColor:fe,justifyContent:"center",alignItems:"center"},ie&&{backgroundColor:"#597E52"}],onFocus:function(){le(!0)},onBlur:function(){le(!1)},onPress:function(){1!=c||1!=A&&1!=L||1!=_||1!=ee?0==c&&0==C||0==T&&0==P&&0==A&&0==L||0==_&&0==G||0==Z&&0==ee?de(p.notfinish):1!=C&&1!=T&&1!=P&&1!=G&&1!=Z||de(p.notqali):(de(""),t.navigate("Info"))},children:(0,w.jsx)(f.default,{style:be.texts,children:"Next: User Profile"})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var be=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},subTitleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},bottomContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainerSub:{flex:.3,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainerPlus:{flex:1.4,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Roboto",fontSize:18,color:"#597E52",fontWeight:"bold",marginLeft:75},texts:{fontFamily:"Roboto",fontSize:16,color:"white",textAlign:"center"},warntexts:{fontFamily:"Roboto",fontSize:12,color:"red",marginLeft:75},checkbox:{marginLeft:75,height:16,width:16},bot:{marginBottom:20,marginLeft:15,width:65,height:65}}),xe=n(1021);const me=function(e,t,n,o,i,l,r,a){return Math.floor(4*Math.random()).toString(),new Promise((function(s,d){var u={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,gender:t,age:n,height:o,weight:i,location:l,contraindication:r,healthconcern:a})};fetch("https://www.foodcrs.com/home",u).then((function(e){return e.json()})).then((function(e){return s(e.status)})).catch((function(e){return d(e)}))}))};function pe(e){var t=e.navigation,n=y.default.get("window").width,o=y.default.get("window").height,l=.8*n,r=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,c=(0,i.useState)(!1),b=(0,s.default)(c,2),x=b[0],C=b[1],S=(0,i.useState)(!1),v=(0,s.default)(S,2),k=v[0],T=v[1],z=(0,i.useState)(!1),R=(0,s.default)(z,2),I=R[0],P=R[1],D=(0,i.useState)(""),F=(0,s.default)(D,2),W=F[0],A=F[1],E=(0,i.useState)(""),q=(0,s.default)(E,2),B=q[0],L=q[1],O=(0,i.useState)(""),M=(0,s.default)(O,2),H=M[0],_=M[1],N=(0,i.useState)(""),Y=(0,s.default)(N,2),V=Y[0],G=Y[1],U=(0,i.useState)(""),J=(0,s.default)(U,2),K=J[0],Z=J[1],Q=(0,i.useState)(""),$=(0,s.default)(Q,2),X=$[0],ee=$[1],te=(0,i.useState)(""),ne=(0,s.default)(te,2),oe=ne[0],ie=ne[1],le=(0,i.useState)(""),re=(0,s.default)(le,2),ae=re[0],se=re[1],de=(0,i.useState)(""),ue=(0,s.default)(de,2),ce=ue[0],fe=ue[1],he=(0,i.useState)(""),ge=(0,s.default)(he,2),ye=ge[0],be=ge[1],pe=(0,i.useState)(!1),we=(0,s.default)(pe,2),Ce=we[0],Se=we[1],ve=(0,i.useState)(!1),ke=(0,s.default)(ve,2),Te=ke[0],ze=ke[1],Re=(0,i.useState)("gray"),Ie=(0,s.default)(Re,2),Pe=Ie[0],De=Ie[1],Fe=j(),We=(Fe.userId,Fe.setUserId);return(0,i.useEffect)((function(){null==W||null==B||null==H||1!=x&&1!=k&&1!=I||""==V||""==K||""==ae||""==ce?De("gray"):(De("#86A789"),be(""))}),[W,B,H,x,k,I,V,K,ae,ce]),(0,w.jsxs)(u.default,{contentContainerStyle:je.container,children:[(0,w.jsx)(h.default,{style:je.titleContainer,children:(0,w.jsx)(f.default,{style:je.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(u.default,{contentContainerStyle:{flex:9,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,width:l,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"center",alignSelf:"center"},children:[(0,w.jsxs)(h.default,{style:je.eleContainerPlus,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.fifth}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:k,onChange:function(e){T(e.target.checked),C(!1),P(!1)},style:je.checkbox}),"Female"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:I,onChange:function(e){P(e.target.checked),C(!1),T(!1)},style:je.checkbox}),"Intersex"]}),(0,w.jsxs)("label",{children:[(0,w.jsx)("input",{type:"radio",checked:x,onChange:function(e){C(e.target.checked),T(!1),P(!1)},style:je.checkbox}),"Male"]})]}),(0,w.jsxs)(h.default,{style:je.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.sixth}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"number",min:"18",max:"120",value:W,onChange:function(e){A(e.target.value)},placeholder:"Please enter your age.",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsxs)(h.default,{style:je.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.seventh}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"number",min:"100",max:"220",value:B,onChange:function(e){L(e.target.value)},placeholder:"Please enter your height.",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsxs)(h.default,{style:je.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.eighth}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"number",min:"30",max:"150",value:H,onChange:function(e){_(e.target.value)},placeholder:"Please enter your weight.",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsxs)(h.default,{style:je.eleContainerMid,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.ninth}),(0,w.jsx)(xe.CountryDropdown,{style:{width:"15%",height:"20%",marginLeft:75},value:V,onChange:function(e){return G(e)}}),(0,w.jsx)(xe.RegionDropdown,{style:{width:"15%",height:"20%",marginLeft:75},country:V,value:K,onChange:function(e){return Z(e)}})]}),(0,w.jsxs)(h.default,{style:[je.eleContainer,{marginBottom:5}],children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.tenth}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:X,onChange:function(e){ee(e.target.value)},placeholder:"Please enter your food restrictions(if any).",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsxs)(h.default,{style:je.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.eleventh}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:oe,onChange:function(e){ie(e.target.value)},placeholder:"Please enter your health condition(if any).",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsxs)(h.default,{style:je.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.twelfth}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:ae,onChange:function(e){se(e.target.value)},placeholder:"Please enter your name.",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsxs)(h.default,{style:je.eleContainer,children:[(0,w.jsx)(f.default,{style:{fontFamily:"Roboto",fontSize:16,color:"black",fontWeight:"bold",paddingHorizontal:75},children:m.thirteenth}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:ce,onChange:function(e){fe(e.target.value)},placeholder:"Please enter your email.",style:je.input}),(0,w.jsx)(h.default,{style:je.line})]})]}),(0,w.jsx)(h.default,{style:je.eleContainerSub,children:(0,w.jsx)(f.default,{style:je.warntexts,children:ye})})]}),(0,w.jsx)(h.default,{style:je.bottomContainer,children:(0,w.jsx)(g.default,{style:[{marginRight:.1*n,width:.155*n,height:.03*o,backgroundColor:Pe,justifyContent:"center",alignItems:"center"},Te&&{backgroundColor:"#597E52"}],onFocus:function(){ze(!0)},onBlur:function(){ze(!1)},onPress:(0,a.default)((function*(){if(null==W||null==B||null==H||1!=x&&1!=k&&1!=I||""==V||""==K||""==ae||""==ce)be(p.notfinish);else if(Number(W)>120||Number(W)<18)be(p.age);else if(Number(B)<100||Number(B)>220)be(p.height);else if(Number(H)<30||Number(H)>150)be(p.weight);else if(r.test(ce)){var e=null;!k||I||x||(e="female"),k||!I||x||(e="intersex"),k||I||!x||(e="male"),Se(!0),be(""),""==X&&ee("none"),""==oe&&ie("none"),console.log("here"),We(ce);var n=yield me(ce,e,W,B,H,V+", "+K,X,oe);console.log("status",n),t.navigate("Cus")}else be(p.email)})),disabled:Ce,children:(0,w.jsx)(f.default,{style:je.texts,children:"Next: Chatbot Customization"})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var je=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},subTitleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},bottomContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainerSub:{flex:.3,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainerMid:{flex:1.5,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainerPlus:{flex:2,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Roboto",fontSize:18,color:"#DE8F5F",fontWeight:"bold",marginLeft:75},texts:{fontFamily:"Roboto",fontSize:16,color:"white",textAlign:"center"},warntexts:{fontFamily:"Roboto",fontSize:12,color:"red",marginLeft:75},checkbox:{marginLeft:75,height:16,width:16},input:{fontSize:16,padding:0,border:"none",width:"180%",height:"120%",marginLeft:75,borderBottomWidth:2},line:{width:"180%",height:1,backgroundColor:"black",marginLeft:75,borderWidth:1},bot:{marginBottom:20,marginLeft:15,width:65,height:65}});const we=function(e,t){return Math.floor(4*Math.random()).toString(),new Promise((function(n,o){var i={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,proid:t})};fetch("https://www.foodcrs.com/proid",i).then((function(e){return e.json()})).then((function(e){return n(e.status)})).catch((function(e){return o(e)}))}))};function Ce(){var e=y.default.get("window").width,t=y.default.get("window").height,n=.8*e,o=(0,i.useState)(""),l=(0,s.default)(o,2),r=l[0],u=l[1],c=(0,i.useState)(!1),b=(0,s.default)(c,2),x=b[0],m=b[1],p=(0,i.useState)("gray"),C=(0,s.default)(p,2),S=C[0],v=C[1],k=(0,i.useState)("Finish the survey"),T=(0,s.default)(k,2),z=T[0],R=T[1],I=(0,i.useState)(""),P=(0,s.default)(I,2),D=P[0],F=P[1],W=(0,i.useState)(!1),A=(0,s.default)(W,2),E=A[0],q=A[1],B=j().userId;return(0,i.useEffect)((function(){v(""!=r?"#86A789":"gray")}),[r]),(0,w.jsxs)(h.default,{style:Se.container,children:[(0,w.jsx)(h.default,{style:Se.titleContainer,children:(0,w.jsx)(f.default,{style:Se.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(h.default,{style:{flex:9,width:n,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:[(0,w.jsx)(h.default,{style:Se.eleContainerPlus,children:(0,w.jsx)(f.default,{style:Se.subTitle,children:"Thank you for participating in the survey! \ud83c\udf89"})}),(0,w.jsx)(h.default,{style:Se.eleContainerSub,children:(0,w.jsx)(f.default,{style:Se.subTitle,children:" "})}),(0,w.jsxs)(h.default,{style:Se.eleContainer,children:[(0,w.jsx)(f.default,{style:Se.question,children:"Please enter your prolific ID or FPS (for Hong Kong participants only): "}),(0,w.jsx)(f.default,{style:Se.promptTexts,children:"(make sure you click \u201cFinish the survey\u201d button before leaving):"}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:r,onChange:function(e){F(""),u(e.target.value)},placeholder:"Please enter your prolific ID or FPS here",style:Se.input}),(0,w.jsx)(h.default,{style:Se.line})]}),(0,w.jsx)(f.default,{style:Se.code,children:" "}),(0,w.jsx)(f.default,{style:Se.code,children:" "}),(0,w.jsx)(f.default,{style:Se.code,children:" "}),(0,w.jsx)(f.default,{style:Se.code,children:"Your secret code: City_Food_2024"})]}),(0,w.jsx)(h.default,{style:Se.eleContainerSub,children:(0,w.jsx)(f.default,{style:Se.warnText,children:D})})]}),(0,w.jsx)(h.default,{style:Se.subTitleContainer,children:(0,w.jsx)(g.default,{style:[{width:.1*e,height:.03*t,backgroundColor:S,justifyContent:"center",alignItems:"center",marginRight:.1*e},x&&{backgroundColor:"#597E52"}],onFocus:function(){m(!0)},onBlur:function(){m(!1)},onPress:(0,a.default)((function*(){if(""!=r){q(!0),F("");var e=yield we(B,r);console.log("status",e),R("Submitted \ud83c\udf8a")}else F("Please enter your prolific ID")})),disabled:E,children:(0,w.jsx)(f.default,{style:Se.texts,children:z})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var Se=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:1,flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"white"},subTitleContainer:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainer:{flex:1.5,backgroundColor:"white"},eleContainerPlus:{flex:1.8,flexDirection:"column",justifyContent:"flex-end",backgroundColor:"white"},eleContainerSub:{flex:.5,backgroundColor:"white"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Roboto",fontSize:30,color:"black",fontWeight:"bold"},question:{fontFamily:"Roboto",fontSize:18,color:"#597E52",fontWeight:"bold",marginLeft:30,marginBottom:10},texts:{fontFamily:"Roboto",fontSize:16,color:"white"},code:{fontFamily:"Roboto",fontSize:16,fontWeight:"bold",color:"black",marginLeft:30},promptTexts:{fontFamily:"Roboto",fontSize:15,color:"black",marginLeft:30,marginBottom:10},bot:{marginBottom:20,marginLeft:15,width:65,height:65},input:{fontSize:16,border:"none",width:"63%",height:"100%",marginLeft:30,outlineWidth:"none"},line:{width:"63%",height:1,backgroundColor:"black",marginLeft:30,borderWidth:1},warnText:{fontFamily:"Roboto",fontSize:12,color:"red"}});function ve(e){var t=e.navigation,n=y.default.get("window").width,o=y.default.get("window").height,l=.8*n,r=(0,i.useState)(""),u=(0,s.default)(r,2),c=u[0],b=u[1],x=(0,i.useState)(""),m=(0,s.default)(x,2),p=m[0],j=m[1],C=(0,i.useState)(!1),S=(0,s.default)(C,2),v=S[0],k=S[1],T=(0,i.useState)("gray"),z=(0,s.default)(T,2),R=z[0],I=z[1],P=(0,i.useState)("Next: Introduction"),D=(0,s.default)(P,2),F=D[0],W=(D[1],(0,i.useState)("")),A=(0,s.default)(W,2),E=A[0],q=A[1],B=(0,i.useState)(!1),L=(0,s.default)(B,2),O=L[0],M=L[1],H="tester",_="CqMyG123";return(0,i.useEffect)((function(){I(c==H&&p==_?"#86A789":"gray")}),[c,p]),(0,w.jsxs)(h.default,{style:ke.container,children:[(0,w.jsx)(h.default,{style:ke.titleContainer,children:(0,w.jsx)(f.default,{style:ke.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,w.jsxs)(h.default,{style:{flex:9,width:l,backgroundColor:"white",paddingHorizontal:10,borderRadius:15,borderWidth:2,borderColor:"black",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:[(0,w.jsxs)(h.default,{style:ke.eleContainer,children:[(0,w.jsx)(f.default,{style:ke.question,children:"Please enter your ID: "}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:c,onChange:function(e){q(""),b(e.target.value)},placeholder:"Please enter your ID here",style:ke.input}),(0,w.jsx)(h.default,{style:ke.line})]}),(0,w.jsx)(f.default,{style:{fontSize:20,color:"white"},children:" "}),(0,w.jsx)(f.default,{style:{fontSize:20,color:"white"},children:" "}),(0,w.jsx)(f.default,{style:ke.question,children:"Please enter your password: "}),(0,w.jsxs)("div",{className:"input-line",children:[(0,w.jsx)("input",{type:"text",value:p,onChange:function(e){q(""),j(e.target.value)},placeholder:"Please enter your password here",style:ke.input}),(0,w.jsx)(h.default,{style:ke.line})]})]}),(0,w.jsx)(h.default,{style:ke.eleContainerSub,children:(0,w.jsx)(f.default,{style:ke.warnText,children:E})})]}),(0,w.jsx)(h.default,{style:ke.subTitleContainer,children:(0,w.jsx)(g.default,{style:[{width:.105*n,height:.03*o,backgroundColor:R,justifyContent:"center",alignItems:"center",marginRight:.1*n},v&&{backgroundColor:"#597E52"}],onFocus:function(){k(!0)},onBlur:function(){k(!1)},onPress:(0,a.default)((function*(){c==H&&p==_?(M(!0),q(""),t.navigate("Intro")):q("Incorrect user name or password.")})),disabled:O,children:(0,w.jsx)(f.default,{style:ke.texts,children:F})})}),(0,w.jsx)(d.default,{style:"auto"})]})}var ke=c.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:1,flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"white"},subTitleContainer:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainer:{flex:3,flexDirection:"column",backgroundColor:"white",justifyContent:"center",alignItems:"flex-start",marginTop:50},eleContainerSub:{flex:.5,flexDirection:"column",backgroundColor:"white",justifyContent:"center",alignItems:"center"},title:{fontFamily:"Roboto",fontSize:40,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Roboto",fontSize:30,color:"black",fontWeight:"bold"},question:{fontFamily:"Roboto",fontSize:18,color:"#597E52",fontWeight:"bold",marginBottom:10},texts:{fontFamily:"Roboto",fontSize:16,color:"white"},promptTexts:{fontFamily:"Roboto",fontSize:15,color:"black",marginLeft:112,marginBottom:10},bot:{marginBottom:20,marginLeft:15,width:65,height:65},input:{fontSize:16,border:"none",width:"150%",height:"100%",outlineWidth:"none"},line:{width:"150%",height:1,backgroundColor:"black",borderWidth:1},warnText:{fontFamily:"Roboto",fontSize:12,color:"red"}}),Te=(0,r.default)();(0,o.default)((function(){return(0,w.jsx)(l.default,{children:(0,w.jsxs)(Te.Navigator,{screenOptions:{headerShown:!1},children:[(0,w.jsx)(Te.Screen,{name:"Test",component:ve}),(0,w.jsx)(Te.Screen,{name:"Intro",component:he}),(0,w.jsx)(Te.Screen,{name:"Quali",component:ye}),(0,w.jsx)(Te.Screen,{name:"Info",component:pe}),(0,w.jsx)(Te.Screen,{name:"Cus",component:C}),(0,w.jsx)(Te.Screen,{name:"Chat",component:$}),(0,w.jsx)(Te.Screen,{name:"End",component:ue}),(0,w.jsx)(Te.Screen,{name:"ID",component:Ce})]})})}))},1983:(e,t,n)=>{e.exports=n.p+"static/media/congrats.0bd4240400b2eb721550.png"},3361:(e,t,n)=>{e.exports=n.p+"static/media/negative.5718a93c822a3ef4ac8b.png"},9298:(e,t,n)=>{e.exports=n.p+"static/media/neutral.3e5ab9621a6e8ea5bb74.png"},6724:(e,t,n)=>{e.exports=n.p+"static/media/positive.4a1698199aa3c51f81c8.png"},4719:(e,t,n)=>{e.exports=n.p+"static/media/rec.31a715ca099ee5b345a6.png"},94:(e,t,n)=>{e.exports=n.p+"static/media/sorry.d8f3ea655b8d16db88d9.png"},5481:(e,t,n)=>{e.exports=n.p+"static/media/waiting.66a5decf5d0077393b4b.png"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,(()=>{var e=[];n.O=(t,o,i,l)=>{if(!o){var r=1/0;for(u=0;u<e.length;u++){for(var[o,i,l]=e[u],a=!0,s=0;s<o.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(a=!1,l<r&&(r=l));if(a){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[o,i,l]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var l=Object.create(null);n.r(l);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&o;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>o[e]));return r.default=()=>o,n.d(l,r),l}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/FoodRSWeb/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,l,[r,a,s]=o,d=0;if(r.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(s)var u=s(n)}for(t&&t(o);d<r.length;d++)l=r[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[45],(()=>n(5690)));o=n.O(o)})();