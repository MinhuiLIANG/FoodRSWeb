(()=>{"use strict";var e={9442:(e,t,n)=>{n.r(t);var o=n(7706),i=n(7294),l=n(5815),r=n(9564),a=n(5861),s=n(885),d=n(5456),c=n(1494),u=n(2025),f=n(6876),h=n(9321),g=n(2582),y=n(5891),x=n(170),b=n(8138);const m=function(e,t,n,o){return Math.floor(4*Math.random()).toString(),new Promise((function(i,l){var r={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,persona:t,style:n,cha:o})};fetch("https://www.foodcrs.com/bot",r).then((function(e){return e.json()})).then((function(e){return i(e.status)})).catch((function(e){return l(e)}))}))};const p=function(e,t,n,o){return Math.floor(4*Math.random()).toString(),new Promise((function(i,l){var r={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,persona:t,style:n,cha:o})};fetch("https://www.foodcrs.com/cus",r).then((function(e){return e.json()})).then((function(e){return i(e.sentence)})).catch((function(e){return l(e)}))}))};var j={acc_1:"I prefer the first one.",acc_2:"I prefer the second one.",acc_b:"I am OK with either of them.",rej:"I like neither of them.",ge1:"I am glad that the recommendation works! Hope you enjoy the meal when you try it out!",ge2:"I am glad you like my recommendation! Enjoy your meal when you try it out!",be:"It seems like my recommendation skill needs some improvement, but thank you for your feedback. This is the end of the conversation.",prefix1:"Searching finished! Here are two recommendations:",afterfix1:"Scroll up to check the two recommendations. Would you like to try any of them in the following days?",prefix2:"I got a better idea! Here are my recommendations:",afterfix2:"Please scroll up to check my recommendations. Now would you like to try any of them in the following days?",fb:"Could you tell me why you don't like these foods? I'll try to refine the recommendation based on your input. Due to the token limitation, the next round will be the last-round of recommendation.",cus:"Hello there! I'm SmartEats.\nOn the left side, you customize my personality, conversational styles, and other characteristics.\nOnce you're done, simply click the Preview button below to see how I'll communicate with the chosen settings. It might take a few moments for me to generate the conversation preview, so please be patient with me.  "},w={prefix:"Before proceeding to the survey, we need to make sure that you meet the inclusion criteria by asking the following questions.",first:"1. Are you over 18?",second:"2. What is your English fluency in reading and writing?",third:"3. Are you interested in using a AI chatbot for food recommendation?",fourth:"4. Are you currently dealing with any severe health conditions that require you to be extremely cautious about your diet (e.g., Coronary heart disease, diabetes, renal failure)?",fifth:"1. What is your biological sex?",sixth:"2. How old are you?",seventh:"3. What is your height (cm)?",eighth:"4. What is your weight (kg)?",ninth:"5. Which country/region do you currently live in?",tenth:"6. Do you have any dietary restrictions (e.g., vegetarianism)? You may skip this question if it does not apply to you.",eleventh:"7. Are there any specific aspects of your health that you would like to improve (e.g., energy level, physical fitness, sleep quality, immunity)?",twelfth:"8. How do you want us to address you?",thirteenth:"9. Your email address:",cus:"Customize the chatbot before proceeding to the conversation."},C={notfinish:"Please complete all the screening questions before proceeding to the survey.",notqali:"Sorry :( It looks like you do not meet the study criteria.",age:"Please enter a valid age (over 18 and below 120).",height:"Please enter a valid height (over 100cm and below 220cm).",weight:"Please enter a valid weight (over 30kg and below 150kg).",name:"Please enter your nickname.",email:"Please enter a valid email address.",gender:"Please select a valid biological sex.",country:"Please select a valid country name.",region:"Please select a valid region name.",rec:"Please rate and review the recommendation quality.",int:"Please rate and review the chatbot intelligence.",exp:"Please rate and review your interacting experience.",edu:"Please provide some information about your education level.",work:"Please provide some information about your focus of work.",ra:"Please provide some information about your ethnicity, if you do not want to tell us about this, please select 'Prefer not to say'.",cusp:"Please select the personality to customize the chatbot according to your preference.",cuss:"Please select the speaking style to customize the chatbot according to your preference.",cusiden:"Please select the identity to customize the chatbot according to your preference."};const S=(0,n(270).default)((function(e){return{userId:null,setUserId:function(t){return e({userId:t})}}}));var k=n(5893),v=y.default.get("window").width,T=y.default.get("window").height,z=.65*Math.min(v/320,T/640);function A(e){var t=e.navigation,o=.8*v,l=(0,i.useState)(""),r=(0,s.default)(l,2),u=r[0],y=r[1],A=(0,i.useState)(""),D=(0,s.default)(A,2),P=D[0],F=D[1],W=(0,i.useState)(""),E=(0,s.default)(W,2),M=E[0],q=E[1],R=(0,i.useState)(!1),H=(0,s.default)(R,2),O=H[0],L=H[1],B=(0,i.useState)(!1),_=(0,s.default)(B,2),N=_[0],G=_[1],Y=(0,i.useState)(!1),V=(0,s.default)(Y,2),U=V[0],J=V[1],K=(0,i.useState)("gray"),Z=(0,s.default)(K,2),Q=Z[0],$=Z[1],X=(0,i.useState)(!1),ee=(0,s.default)(X,2),te=ee[0],ne=ee[1],oe=(0,i.useState)(!1),ie=(0,s.default)(oe,2),le=ie[0],re=ie[1],ae=(0,i.useState)(!1),se=(0,s.default)(ae,2),de=se[0],ce=se[1],ue=(0,i.useState)(!1),fe=(0,s.default)(ue,2),he=fe[0],ge=fe[1],ye=(0,i.useState)(!1),xe=(0,s.default)(ye,2),be=xe[0],me=xe[1],pe=(0,i.useState)(!1),je=(0,s.default)(pe,2),we=je[0],Ce=je[1],Se=(0,i.useState)(!1),ke=(0,s.default)(Se,2),ve=ke[0],Te=ke[1],ze=(0,i.useState)(""),Ae=(0,s.default)(ze,2),Ie=Ae[0],De=Ae[1],Pe=S().userId,Fe=(0,i.useState)(!1),We=(0,s.default)(Fe,2),Ee=We[0],Me=We[1],qe=(0,i.useState)(!1),Re=(0,s.default)(qe,2),He=Re[0],Oe=Re[1],Le=(0,i.useState)(!1),Be=(0,s.default)(Le,2),_e=Be[0],Ne=Be[1],Ge=(0,i.useState)(!1),Ye=(0,s.default)(Ge,2),Ve=Ye[0],Ue=Ye[1],Je=(0,i.useState)(!1),Ke=(0,s.default)(Je,2),Ze=Ke[0],Qe=Ke[1],$e=(0,i.useState)(!1),Xe=(0,s.default)($e,2),et=Xe[0],tt=Xe[1],nt=(0,i.useState)(""),ot=(0,s.default)(nt,2),it=ot[0],lt=ot[1],rt=(0,i.useState)("Preview"),at=(0,s.default)(rt,2),st=at[0],dt=at[1],ct="extroverted",ut="neutral",ft="introverted",ht="casual",gt="formal";return(0,i.useEffect)((function(){""!=u&&""!=P?($("#86A789"),De("")):$("gray")}),[u,P]),(0,k.jsx)(b.default,{style:{flex:1},children:(0,k.jsxs)(c.default,{contentContainerStyle:I.container,children:[(0,k.jsx)(h.default,{style:I.titleContainer,children:(0,k.jsx)(f.default,{style:I.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(c.default,{contentContainerStyle:{flexGrow:9,backgroundColor:"white",paddingHorizontal:10*z,borderRadius:15*z,width:o,borderWidth:2*z,borderColor:"black",flexDirection:"column",justifyContent:"center",alignSelf:"center",overflow:"hidden"},children:[(0,k.jsx)(h.default,{style:I.valcontainerSub,children:(0,k.jsx)(f.default,{style:I.questionPlus,children:w.cus})}),(0,k.jsxs)(h.default,{style:I.columContainer,children:[(0,k.jsx)(h.default,{style:I.leftColumn,children:(0,k.jsxs)(h.default,{style:{flex:1.5},children:[(0,k.jsxs)(h.default,{style:[I.valcontainerMid,{top:"10%"}],children:[(0,k.jsx)(f.default,{style:I.question,children:"1. I want to talk with a chatbot whose personality is:"}),(0,k.jsx)(f.default,{style:I.spaceText,children:"  "}),(0,k.jsxs)(h.default,{style:I.buttoncontainer,children:[(0,k.jsx)(g.default,{style:[I.button_sub,Ee&&I.buttonPressed],onPress:function(){Ee?(Me(!1),y("")):(Me(!0),y(ct),Oe(!1),Ne(!1))},disabled:de,children:(0,k.jsx)(f.default,{style:I.buttonText_sub,children:ct})}),(0,k.jsx)(g.default,{style:[I.button_subM,{marginLeft:18*z},He&&I.buttonPressed],onPress:function(){He?(Oe(!1),y("")):(Oe(!0),y(ut),Me(!1),Ne(!1))},disabled:he,children:(0,k.jsx)(f.default,{style:I.buttonText_sub,children:ut})}),(0,k.jsx)(g.default,{style:[I.button_sub,{marginLeft:18*z},_e&&I.buttonPressed],onPress:function(){_e?(Ne(!1),y("")):(Ne(!0),y(ft),Me(!1),Oe(!1))},disabled:be,children:(0,k.jsx)(f.default,{style:I.buttonText_sub,children:ft})})]})]}),(0,k.jsxs)(h.default,{style:[I.valcontainer,{marginBottom:15*z,top:"25%"}],children:[(0,k.jsx)(f.default,{style:I.question,children:"2. I want the chatbot to speak:"}),(0,k.jsx)(f.default,{style:I.spaceText,children:"  "}),(0,k.jsxs)(h.default,{style:I.buttoncontainer,children:[(0,k.jsx)(g.default,{style:[I.button_subM,Ve&&I.buttonPressed],onPress:function(){var e=P;if(Ve)if(Ue(!1),P==ht)F("");else{var t=e.replace(new RegExp(" and "+ht,"g"),"").replace(new RegExp(ht,"g"),"");t.startsWith(" and")&&(t=t.replace(" and ","")),F(t)}else if(Ue(!0),""==P)F(ht);else{Qe(!1);var n=e.replace(new RegExp(" and "+gt,"g"),"").replace(new RegExp(gt,"g"),"");n.startsWith(" and")&&(n=n.replace(" and ","")),""==n&&F(ht),""!=n&&F(n+" and "+ht)}},disabled:we,children:(0,k.jsx)(f.default,{style:I.buttonText_sub,children:ht})}),(0,k.jsx)(g.default,{style:[I.button_subM,{marginLeft:18*z},Ze&&I.buttonPressed],onPress:function(){var e=P;if(Ze)if(Qe(!1),P==gt)F("");else{var t=e.replace(new RegExp(" and "+gt,"g"),"").replace(new RegExp(gt,"g"),"");t.startsWith(" and")&&(t=t.replace(" and ","")),F(t)}else if(Qe(!0),""==P)F(gt);else{Ue(!1);var n=e.replace(new RegExp(" and "+ht,"g"),"").replace(new RegExp(ht,"g"),"");n.startsWith(" and")&&(n=n.replace(" and ","")),""==n&&F(gt),""!=n&&F(n+" and "+gt)}},disabled:ve,children:(0,k.jsx)(f.default,{style:I.buttonText_sub,children:gt})})]})]}),(0,k.jsxs)(h.default,{style:[I.valcontainer,{marginBottom:15*z,top:"40%"}],children:[(0,k.jsx)(f.default,{style:I.question,children:"3. Add additional characteristics you would like to the chatbot to be. This can be anything, including the chatbot's persona, use of words, etc. Limit your description to 15 words. (optional)"}),(0,k.jsx)(f.default,{style:I.spaceText,children:"  "}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:M,onChange:function(e){var t=e.target.value;t.split(" ").length<=15?q(t):De(C.cuscha)},placeholder:"Add additional characteristics you like here.",style:I.input,disabled:et}),(0,k.jsx)(h.default,{style:I.line})]})]})]})}),(0,k.jsxs)(h.default,{style:I.rightColumn,children:[(0,k.jsx)(h.default,{style:I.spaceSub}),!1===et?(0,k.jsxs)(h.default,{style:I.bubble,children:[(0,k.jsxs)(h.default,{style:{flex:1,flexDirection:"row",alignItems:"center",marginLeft:15*z,marginTop:30*z},children:[(0,k.jsx)(x.default,{style:I.botmini,source:n(9298)}),(0,k.jsx)(f.default,{style:[I.textsub,{fontWeight:"bold",marginTop:35*z}],children:":"})]}),(0,k.jsx)(h.default,{style:{flex:1,flexDirection:"column",justifyContent:"flex-start",marginTop:10*z},children:(0,k.jsx)(f.default,{style:[I.textsub,{paddingHorizontal:30*z}],children:j.cus})}),(0,k.jsx)(h.default,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:(0,k.jsx)(g.default,{style:[{width:.08*v,height:.03*T,backgroundColor:Q,justifyContent:"center",alignItems:"center",alignSelf:"center"},O&&""!=u&&""!=P&&{backgroundColor:"#597E52"}],onPress:(0,a.default)((function*(){if(""==u)De(C.cusp);else if(""==P)De(C.cuss);else{De(""),dt("Generating..."),ne(!0),re(!1),ce(!0),ge(!0),me(!0),Ce(!0),Te(!0);var e=yield p(Pe,u,P,M);lt(e),tt(!0)}})),onFocus:function(){L(!0)},onBlur:function(){G(!1)},disabled:te,children:(0,k.jsx)(f.default,{style:I.buttonText,children:st})})})]}):(0,k.jsxs)(h.default,{style:I.bubble,children:[(0,k.jsxs)(h.default,{style:{flex:1,flexDirection:"row",alignItems:"center",marginLeft:15*z,marginTop:30*z},children:[(0,k.jsx)(x.default,{style:I.botmini,source:n(6724)}),(0,k.jsx)(f.default,{style:[I.textsub,{fontWeight:"bold",marginTop:35*z}],children:":"})]}),(0,k.jsx)(h.default,{style:{flex:1,flexDirection:"column",justifyContent:"flex-start",marginTop:10*z},children:(0,k.jsx)(f.default,{style:[I.textsub,{paddingHorizontal:30*z}],children:it})}),(0,k.jsxs)(h.default,{style:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,k.jsx)(g.default,{style:[{width:.06*v,height:.03*T,backgroundColor:"#86A789",justifyContent:"center",alignItems:"center"},N&&{backgroundColor:"#597E52"}],onPress:function(){re(!0),ne(!1),L(!1),ce(!1),ge(!1),me(!1),Ce(!1),Te(!1),y(""),F(""),G(!1),Me(!1),Oe(!1),Ne(!1),Ue(!1),Qe(!1),dt("Preview"),tt(!1)},onFocus:function(){G(!0)},onBlur:function(){L(!1)},disabled:le,children:(0,k.jsx)(f.default,{style:I.buttonText,children:"Reset"})}),(0,k.jsx)(f.default,{style:I.textsub,children:"          "}),(0,k.jsx)(g.default,{style:[{width:.115*v,height:.03*T,backgroundColor:"#86A789",justifyContent:"center",alignItems:"center"},U&&{backgroundColor:"#597E52"}],onPress:(0,a.default)((function*(){if(""==u)De(C.cusp);else if(""==P)De(C.cuss);else{De(""),re(!0);var e=yield m(Pe,u,P,M);console.log("status",e),t.navigate("Ava")}})),onFocus:function(){J(!0)},onBlur:function(){J(!1)},disabled:le,children:(0,k.jsx)(f.default,{style:I.buttonText,children:"Next: Conversation Hints"})})]})]})]})]}),(0,k.jsx)(h.default,{style:I.warncontainer,children:(0,k.jsx)(f.default,{style:I.warntexts,children:Ie})})]}),(0,k.jsx)(h.default,{style:I.bottomContainer}),(0,k.jsx)(d.default,{style:"auto"})]})})}var I=u.default.create({container:{flexGrow:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},bottomContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},columContainer:{flex:1,flexDirection:"row"},leftColumn:{flex:1,padding:10*z,flexDirection:"column",justifyContent:"center"},rightColumn:{flex:1,backgroundColor:"white",padding:10*z,justifyContent:"center",alignItems:"center"},bubble:{flex:1.5,backgroundColor:"white",paddingHorizontal:10*z,borderRadius:15*z,width:"90%",borderWidth:1.5*z,borderColor:"black",flexDirection:"column",justifyContent:"center"},bubbleText:{flex:.6,backgroundColor:"white",paddingHorizontal:10*z,flexDirection:"column",justifyContent:"flex-start"},bubbleTextSub:{flex:.09,backgroundColor:"white",paddingHorizontal:10*z,flexDirection:"column",justifyContent:"flex-start"},avatar:{backgroundColor:"white",paddingHorizontal:10*z,flexDirection:"row",justifyContent:"center",alignItems:"center"},sigAva:{flex:1,backgroundColor:"white",paddingHorizontal:10*z,flexDirection:"column",justifyContent:"center",alignItems:"center"},space:{flex:.1,backgroundColor:"white",width:"90%",paddingHorizontal:10*z,flexDirection:"column",justifyContent:"center"},spaceSub:{flex:.06,backgroundColor:"white",width:"90%",paddingHorizontal:10*z,flexDirection:"column",justifyContent:"center"},title:{fontFamily:"Arial",fontSize:40*z,color:"#597E52",fontWeight:"bold"},valcontainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},valcontainerMid:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},valcontainerSub:{flex:.15,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white"},warncontainer:{flex:.1,flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"white"},buttoncontainer:{flexDirection:"row",alignItems:"center",justifyContent:"start",paddingHorizontal:15*z,width:"92%",paddingHorizontal:75*z},buttoncontainerStyle:{flexDirection:"column",alignItems:"start",justifyContent:"center",paddingHorizontal:15*z,width:"92%",paddingHorizontal:75*z,marginBottom:10*z},dropDownContainer:{height:"90%"},input:{fontSize:16*z,padding:0,border:"none",width:"150%",height:"120%",paddingHorizontal:15*z,marginLeft:75*z,outlineWidth:"none"},line:{width:"150%",height:1*z,backgroundColor:"black",marginLeft:75*z,borderWidth:1*z},question:{fontFamily:"Arial",fontSize:17*z,color:"black",fontWeight:"bold",paddingHorizontal:75*z},concator:{fontFamily:"Arial",fontSize:17*z,color:"black",fontWeight:"bold"},textsub:{fontFamily:"Arial",fontSize:18*z,color:"black"},textsubS:{fontFamily:"Arial",fontSize:5*z,color:"black"},textsubTittle:{fontFamily:"Arial",fontSize:22*z,color:"black",fontWeight:"bold"},textsubBold:{fontFamily:"Arial",fontSize:15*z,color:"#597E52",fontWeight:"bold"},textbBold:{fontFamily:"Arial",fontSize:15*z,color:"black",fontWeight:"bold"},questionPlus:{fontFamily:"Arial",fontSize:22*z,color:"#597E52",fontWeight:"bold",paddingHorizontal:75*z,top:"30%"},warntexts:{fontFamily:"Arial",fontSize:12*z,color:"red",marginLeft:75*z},button:{flexDirection:"column",marginLeft:75*z,width:"80%",height:"20%",backgroundColor:"#86A789",justifyContent:"center",alignItems:"center",left:"170%"},buttonPressed:{backgroundColor:"#597E52"},buttonText:{fontFamily:"Arial",color:"white",textAlign:"center",textAlignVertical:"center",fontSize:16*z},button_sub:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"28%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subStyle:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"55%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subStylefr:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"47%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subM:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"23%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subMStyle:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"53%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subS:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"20%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subSStyle:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"44%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subSStylefr:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"36%",borderRadius:20*z,padding:10*z,borderColor:"gray"},button_subP:{backgroundColor:"gray",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"40%",borderRadius:20*z,padding:10*z,borderColor:"gray"},buttonText_sub:{fontFamily:"Arial",color:"white",textAlign:"center",textAlignVertical:"center",fontWeight:"bold",fontSize:16*z},spaceText:{fontFamily:"Arial",color:"white",textAlign:"center",textAlignVertical:"center",fontWeight:"bold",fontSize:8*z},bot:{width:80*z,height:80*z,alignSelf:"center"},botmini:{width:65*z,height:65*z}}),D=n(4942),P=n(8094),F=n(6123),W=n(6065);const E=function(e){return Math.floor(4*Math.random()).toString(),new Promise((function(t,n){var o={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e})};fetch("https://www.foodcrs.com/icebreak",o).then((function(e){return e.json()})).then((function(e){return t(e.icebreak)})).catch((function(e){return n(e)}))}))};const M=function(e,t,n,o){return Math.floor(4*Math.random()).toString(),new Promise((function(i,l){var r={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,user:t,control:n,choosefood:o})};fetch("https://www.foodcrs.com/back",r).then((function(e){return e.json()})).then((function(e){return i(e.chatbot)})).catch((function(e){return l(e)}))}))};const q=function(e){return Math.floor(4*Math.random()).toString(),new Promise((function(t,n){var o={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e})};fetch("https://www.foodcrs.com/senti",o).then((function(e){return e.json()})).then((function(e){return t(e.sentiment)})).catch((function(e){return n(e)}))}))},R=n.p+"static/media/openai-svgrepo-com.04ad457f0e1c677f769f.svg";function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,D.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=!1,B=!0,_=!1,N="none",G="none",Y="",V=y.default.get("window").width,U=y.default.get("window").height,J=.65*Math.min(V/320,U/640);var K=u.default.create({background:{flex:1,backgroundColor:"white",paddingHorizontal:10*J,flexDirection:"column",alignItems:"center",overflow:"scroll"},textContainer:{position:"absolute",top:.9*U,height:.1*U,backgroundColor:"white",paddingHorizontal:10*J,flexDirection:"row",alignItems:"center",zIndex:100},titleContainer:{position:"absolute",height:.1*U,backgroundColor:"white",paddingHorizontal:10*J,flexDirection:"row",alignItems:"center",zIndex:100},buttonText:{fontFamily:"Arial",color:"white",textAlign:"center",textAlignVertical:"center",fontSize:16*J},bubbleText:{left:{fontFamily:"Arial",fontSize:16*J,color:"black"},right:{fontFamily:"Arial",fontSize:16*J,color:"black"}},imgText:{fontFamily:"Arial",fontSize:16*J,color:"black"},boldText:{fontFamily:"Arial",fontSize:16*J,color:"white",fontWeight:"bold"},text:{fontFamily:"Arial",fontSize:16*J,color:"black"},title:{fontFamily:"Arial",fontSize:40*J,color:"#597E52",fontWeight:"bold"},button:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"41%",borderRadius:8.5*J,padding:10*J,borderColor:"#86A789",margintop:20*J},buttonsub:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"33%",borderRadius:8.5*J,padding:10*J,borderColor:"#86A789",margintop:20*J},buttonsubShort:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"9%",borderRadius:8.5*J,padding:10*J,borderColor:"#86A789",margintop:20*J},buttonsubMid:{backgroundColor:"#86A789",alignItems:"center",height:"75%",width:"11%",borderRadius:8.5*J,padding:10*J,borderColor:"#86A789",margintop:20*J},buttonsubPress:{backgroundColor:"#597E52"},waiting:{left:{backgroundColor:"white",borderColor:"black",borderWidth:1.5*J},right:{backgroundColor:"#D2E3C8"}},working:{left:{backgroundColor:"white",width:"65%",borderColor:"black",borderWidth:1.5*J},right:{backgroundColor:"#D2E3C8",width:"65%"}},inputToolbarContainer:{borderTopWidth:1*J,borderBottomWidth:1*J,borderColor:"black",marginTop:37*J},image:{width:500*J,height:300*J,marginRight:8*J},sendButton:{justifyContent:"center",alignItems:"center",backgroundColor:"white",marginBottom:9*J},sendButtonText:{color:"#597E52",fontSize:20*J,fontWeight:"bold"},avatarContainer:{width:60*J,height:60*J},avatar:{flex:1,width:null,height:null,resizeMode:"contain"},bot:{marginBottom:20*J,marginLeft:15*J,width:65*J,height:65*J}});const Z=function(e){var t=e.navigation,o=(0,i.useState)([]),l=(0,s.default)(o,2),r=l[0],d=l[1],c=(0,i.useState)(!1),u=(0,s.default)(c,2),y=u[0],b=u[1],m=(0,i.useState)(!1),p=(0,s.default)(m,2),w=p[0],C=p[1],v=(0,i.useState)(!1),T=(0,s.default)(v,2),z=T[0],A=T[1],I=S().userId,D=.7*V,H={_id:1,name:"user"},Z={_id:2,name:"chatbot",avatar:n(9298)},Q=[{_id:2,name:"chatbot",avatar:n(9298)},{_id:2,name:"chatbot",avatar:n(6724)},{_id:2,name:"chatbot",avatar:n(3361)},{_id:2,name:"chatbot",avatar:n(1983)},{_id:2,name:"chatbot",avatar:n(4719)},{_id:2,name:"chatbot",avatar:n(5481)},{_id:2,name:"chatbot",avatar:n(94)}],$=(0,i.useState)(!1),X=(0,s.default)($,2),ee=X[0],te=X[1],ne=(0,i.useState)(!1),oe=(0,s.default)(ne,2),ie=oe[0],le=oe[1],re=(0,i.useState)(!1),ae=(0,s.default)(re,2),se=ae[0],de=ae[1],ce=(0,i.useState)(!1),ue=(0,s.default)(ce,2),fe=ue[0],he=ue[1],ge=(0,i.useState)(!1),ye=(0,s.default)(ge,2),xe=ye[0],be=ye[1],me=(0,i.useState)(!1),pe=(0,s.default)(me,2),je=pe[0],we=pe[1],Ce=(0,i.useState)(!1),Se=(0,s.default)(Ce,2),ke=Se[0],ve=Se[1],Te=(0,i.useState)(!1),ze=(0,s.default)(Te,2),Ae=ze[0],Ie=ze[1],De=(0,i.useState)(!1),Pe=(0,s.default)(De,2),Fe=Pe[0],We=Pe[1];function Ee(){return(Ee=(0,a.default)((function*(e){var t=yield q(e),n=0;return"positive"==t&&(console.log("pos"),n=1),"negative"==t&&(console.log("neg"),n=2),"neutral"==t&&(console.log("neu"),n=0),n}))).apply(this,arguments)}function Me(){return(Me=(0,a.default)((function*(){Oe("Typing",5);var e=yield E(I);d([{_id:1,text:e,createdAt:new Date,user:Z}]),_e()}))).apply(this,arguments)}function qe(e,t){var n=t.indexOf(e);return-1!==n?t.slice(0,n)+t.slice(n+e.length):t}function Re(e,t,n){return He.apply(this,arguments)}function He(){return He=(0,a.default)((function*(e,t,n){var o=yield M(I,e,t,n);if((o.includes(j.ge1)||o.includes(j.ge2)||o.includes(j.be))&&(L=!0),-1!=o.indexOf("[REC]")){var i="",l="";0==_&&(i=j.prefix1,l=j.afterfix1,L=!0),1==_&&(i=j.prefix2,l=j.afterfix2,L=!0),_e(),Oe(i,4);var r=o.split("[REC]"),a=r[0].split("[CAT]"),s=r[1].split("[CAT]"),d=a[0].split("[CLS]"),c=s[0].split("[CLS]"),u=d[0],f=d[1],h=c[0],g=c[1];N=u,G=h;qe(u,f),qe(h,g);Be(a[1],u+"\n"+f),Be(s[1],h+"\n"+g),Oe(l,4),_=!0}else{if(-1!=o.indexOf("[CAT]")){var y="",x="";0==w&&(y=j.prefix1,x=j.afterfix1,L=!0),1==w&&(y=j.prefix2,x=j.afterfix2,L=!0),_e(),Oe(y,4);var b=o.split("[CAT]"),m=b[0].split("[CLS]"),p=m[0],w=m[1];N=p,G="loss[ERROR]"+w,Be(b[1],p+"\n"+w),Oe(x,4),w=!0}if(o.includes(j.ge1)||o.includes(j.ge2)||o.includes(j.be))(o.includes(j.ge1)||o.includes(j.ge2))&&(_e(),Oe(o,3)),o.includes(j.be)&&(_e(),Oe(o,6));else{var C=yield function(e){return Ee.apply(this,arguments)}(I);console.log("index:**",C),_e(),Oe(o,C)}}B=!1})),He.apply(this,arguments)}function Oe(e,t){var n={_id:Math.round(1e6*Math.random()),text:e,createdAt:new Date,user:Z};"none"!=t&&(n={_id:Math.round(1e6*Math.random()),text:e,createdAt:new Date,user:Q[t]}),Y=e,d((function(e){return F.GiftedChat.append(e,n)}))}function Le(e){var t={_id:Math.round(1e6*Math.random()),text:e,createdAt:new Date,user:H};d((function(e){return F.GiftedChat.append(e,t)}))}function Be(e,t){var n={_id:Math.round(1e6*Math.random()),image:e,text:t,createdAt:new Date,user:Q[4]};d((function(e){return F.GiftedChat.append(e,n)}))}function _e(){d((function(e){return e.filter((function(e){return"Typing"!==e.text&&"Searching for food... This process may take a while"!==e.text}))}))}function Ne(e,t,n,o){if(e.startsWith(t)){var i=e.split("\n");return(0,k.jsxs)(f.default,{children:[(0,k.jsx)(f.default,{style:{fontWeight:o},children:t}),i.length>1&&(0,k.jsx)(f.default,{children:"\n"}),i.slice(1).map((function(e,t){return(0,k.jsxs)(f.default,{children:[t>0&&(0,k.jsx)(f.default,{children:"\n"}),e]},t)}))]})}if(e.startsWith(n)){var l=e.split("\n");return(0,k.jsxs)(f.default,{children:[(0,k.jsx)(f.default,{style:{fontWeight:o},children:n}),l.length>1&&(0,k.jsx)(f.default,{children:"\n"}),l.slice(1).map((function(e,t){return(0,k.jsxs)(f.default,{children:[t>0&&(0,k.jsx)(f.default,{children:"\n"}),e]},t)}))]})}return e}(0,i.useEffect)((function(){B=!0,function(){Me.apply(this,arguments)}(),B=!1}),[]);var Ge=(0,i.useCallback)((function(e){var t=e[0],n=O(O({_id:Math.round(1e6*Math.random())},t),{},{createdAt:new Date,user:H});d((function(e){return F.GiftedChat.append(e,n)})),console.log("control:",B);var o=n.text,i="none";0==B&&((o==j.acc_1||o==j.acc_2||j.acc_b)&&(i="<left>"),o==j.rej&&(i="<right>"),B=!0,Oe("OK, do you have anything else to add before I recommend some food for you, such as flavor, style?"==Y||"Could you tell me why you don't like these foods? I'll try to refine the recommendation based on your input. Due to the token limitation, the next round will be the last-round of recommendations."==Y?"Searching for food... This process may take a while":"Typing",5),Re(o,i,"none"))}),[]),Ye=function(e){var t=e.currentMessage,n=e.imageProps,o=t.text,l=null;if(l="Typing"==o||"Searching for food... This process may take a while"==o||o.length<78?K.waiting:K.working,o==j.prefix1||o==j.prefix2)return console.log("prefix"),(0,k.jsx)(h.default,{style:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",padding:8*J,backgroundColor:"white",width:"38%",borderTopRightRadius:15*J,borderBottomRightRadius:15*J,borderTopLeftRadius:15*J,borderColor:"black",borderWidth:1.5*J,marginLeft:23*J},children:(0,k.jsx)(f.default,{style:K.imgText,children:o})});if(t.image){var r=(0,i.useState)(!0),a=(0,s.default)(r,2),d=a[0],c=a[1];return(0,k.jsxs)(h.default,{style:{flexDirection:"column",alignItems:"center",justifyContent:"center",padding:8*J,backgroundColor:"white",width:"61%",borderTopRightRadius:15*J,borderBottomRightRadius:15*J,borderColor:"black",borderWidth:1.5*J,marginLeft:23*J},children:[d&&(0,k.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,k.jsx)(f.default,{style:K.imgText,children:"Loading the food image "}),(0,k.jsx)(P.default,{style:{justifyContent:"flex-start",marginLeft:5},size:"small",color:"#597E52"})]}),(0,k.jsx)(x.default,O({source:{uri:t.image},style:{width:V,height:.15*V,marginRight:8*J},onLoad:function(){return c(!1)},resizeMode:"contain"},n)),(0,k.jsx)(f.default,{style:K.imgText,children:Ne(o,N,G,"bold")})]})}return(0,k.jsx)(F.Bubble,O(O({},e),{},{wrapperStyle:l,textStyle:K.bubbleText}))};return(0,k.jsx)(W.SafeAreaProvider,{children:(0,k.jsxs)(h.default,{style:K.background,children:[(0,k.jsx)(h.default,{style:K.titleContainer,children:(0,k.jsx)(f.default,{style:K.title,children:"Let's chat!"})}),(0,k.jsx)(h.default,{style:{position:"absolute",top:.1*U,height:.8*U,backgroundColor:"white",paddingHorizontal:10*J,borderRadius:15*J,borderColor:"black",borderWidth:2*J,width:D,zIndex:200},children:(0,k.jsx)(F.GiftedChat,{messages:r,onSend:function(e){return Ge(e)},user:H,renderBubble:function(e){return(0,k.jsx)(Ye,O({},e))},renderSend:function(e){return(0,k.jsx)(F.Send,O(O({},e),{},{children:(0,k.jsx)(h.default,{style:K.sendButton,children:(0,k.jsx)(f.default,{style:K.sendButtonText,children:"Send"})})}))},renderInputToolbar:function(e){if(1!=L)return(0,k.jsx)(h.default,{style:K.inputToolbarContainer,children:(0,k.jsx)(F.InputToolbar,O({},e))});console.log("end")},renderMessageText:function(e){var n=e.currentMessage.text;return"Typing"==n||"Searching for food... This process may take a while"==n?(0,k.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},children:[(0,k.jsx)(F.MessageText,O({},e)),(0,k.jsx)(P.default,{style:{justifyContent:"flex-start",marginLeft:-15*J},size:"small",color:"#597E52"}),(0,k.jsx)(f.default,{children:"    "})]}):n==j.afterfix1?(0,k.jsxs)(h.default,{children:[(0,k.jsx)(F.MessageText,O({},e)),(0,k.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"center",marginTop:10*J},children:[(0,k.jsx)(g.default,{style:[K.buttonsub,ee&&K.buttonsubPress],onPress:function(){te(!0),L=!1,b(!0),Le(j.acc_1),Re(j.acc_1,"<left>","First: "+N),Oe("Typing",5)},disabled:y,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"First Recommendation"})}),(0,k.jsx)(f.default,{style:K.buttonText,children:"    "}),(0,k.jsx)(g.default,{style:[K.buttonsub,ie&&K.buttonsubPress],onPress:function(){le(!0),L=!1,b(!0),Le(j.acc_2),Re(j.acc_2,"<left>","Second: "+G),Oe("Typing",5)},disabled:y,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Second Recommendation"})}),(0,k.jsx)(f.default,{style:K.buttonText,children:"    "}),(0,k.jsx)(g.default,{style:[K.buttonsubShort,se&&K.buttonsubPress],onPress:function(){de(!0),L=!1,b(!0),Le(j.acc_b),Re(j.acc_b,"<left>","Either: "+N+"[or]"+G),Oe("Typing",5)},disabled:y,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Either"})}),(0,k.jsx)(f.default,{style:K.buttonText,children:"    "}),(0,k.jsx)(g.default,{style:[K.buttonsubMid,fe&&K.buttonsubPress],onPress:function(){he(!0),L=!1,b(!0),Le(j.rej),Re(j.rej,"<right>","none"),Oe("Typing",5)},disabled:y,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Neither"})})]})]}):n==j.afterfix2?(0,k.jsxs)(h.default,{children:[(0,k.jsx)(F.MessageText,O({},e)),(0,k.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"center",marginTop:10*J},children:[(0,k.jsx)(g.default,{style:[K.buttonsub,xe&&K.buttonsubPress],onPress:function(){be(!0),L=!1,C(!0),Le(j.acc_1),Re(j.acc_1,"none","First: "+N),Oe("Typing",5)},disabled:w,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"First Recommendation"})}),(0,k.jsx)(f.default,{style:K.buttonText,children:"    "}),(0,k.jsx)(g.default,{style:[K.buttonsub,je&&K.buttonsubPress],onPress:function(){we(!0),L=!1,C(!0),Le(j.acc_2),Re(j.acc_2,"none","Second: "+G),Oe("Typing",5)},disabled:w,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Second Recommendation"})}),(0,k.jsx)(f.default,{style:K.buttonText,children:"    "}),(0,k.jsx)(g.default,{style:[K.buttonsubShort,ke&&K.buttonsubPress],onPress:function(){ve(!0),L=!1,C(!0),Le(j.acc_b),Re(j.acc_b,"none","Either: "+N+"[or]"+G),Oe("Typing",5)},disabled:w,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Either"})}),(0,k.jsx)(f.default,{style:K.buttonText,children:"    "}),(0,k.jsx)(g.default,{style:[K.buttonsubMid,Ae&&K.buttonsubPress],onPress:function(){Ie(!0),L=!1,C(!0),Le(j.rej),Re(j.rej,"none","none"),Oe("Typing",5)},disabled:w,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Neither"})})]})]}):n.includes(j.ge1)||n.includes(j.ge2)||n.includes(j.be)?(0,k.jsxs)(h.default,{children:[(0,k.jsx)(F.MessageText,O({},e)),(0,k.jsx)(h.default,{style:{flexDirection:"row",justifyContent:"center",marginTop:10*J},children:(0,k.jsx)(g.default,{style:[K.button,Fe&&{backgroundColor:"#597E52"}],onPress:function(){We(!0),A(!0),t.navigate("Feedback")},disabled:z,children:(0,k.jsx)(f.default,{style:K.buttonText,children:"Next step: provide feedback"})})})]}):(0,k.jsx)(h.default,{children:(0,k.jsx)(F.MessageText,O({},e))})},renderAvatar:function(e){return(0,k.jsx)(h.default,{style:K.avatarContainer,children:(0,k.jsx)(x.default,{source:e.currentMessage.user.avatar,style:K.avatar})})},multiline:!0})}),(0,k.jsxs)(h.default,{style:K.textContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:14*J,color:"black",left:.08*V*J},children:"Powered by "}),(0,k.jsx)(x.default,{source:R,style:{width:22*J,height:22*J,left:.08*V*J}}),(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:14*J,color:"black",left:.08*V*J},children:" OpenAI GPT-4 API and DALL\xb7E3, the chatbot icons are designed by Sergey Stepanov / Alamy Stock Vector."})]})]})})};const Q=function(e,t,n,o,i,l,r,a,s,d,c,u,f,h,g,y,x,b,m,p,j,w,C){return Math.floor(4*Math.random()).toString(),new Promise((function(S,k){var v={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,acca:t,expa:n,expb:o,expc:i,intera:l,usefa:r,usefb:a,trusta:s,trustb:d,eata:c,useia:u,useib:f,useic:h,quaa:g,ada:y,adb:x,edul:b,workf:m,race:p,hper:j,feedback:w,extra:C})};fetch("https://www.foodcrs.com/end",v).then((function(e){return e.json()})).then((function(e){return S(e.status)})).catch((function(e){return k(e)}))}))};var $={acca:"1. The food that chatbot recommends to me matches my preferences and health conditions.",expa:"2. I am satisfied with the images of the recommended foods.",expb:"3. The text explanation of the food recommendation was sufficient for me to make a decision.",expc:"4. I understand why the foods were recommended to me.",intera:"5. I found it easy to inform the chatbot what I like or dislike.",usefa:"6. The chatbot gave me good suggestions.",usefb:"7. Following the recommendations from the chatbot is easy.",trusta:"8. I am convinced of what the chatbot recommends to me.",trustb:"9. The chatbot can be trusted.",eata:"10. I would like to eat the food that the chatbot recommended in the following days.",extra:"11. I do not understand why chatbot recommended the foods to me.",useia:"12. I would like to use the chatbot for food recommendations again.",useib:"13. I would like to use the chatbot for food recommendations frequently if possible.",useic:"14. I would like to tell my friends about this chatbot for food recommendations.",quaa:"15. Overall, I am satisfied with the recommended foods.",ada:"16. During the conversation, the chatbot is able to detect my intention and  feelings, and responds appropriately, such as switching topics and changing expressions.",adb:"17. I enjoy the conversation with the chatbot.",q1:"18. What is your highest level of education?",q2:"19. Which of the following best describes your focus of work?",q3:"20. Which race/ethnicity best describes you?",q4:"21. Which of the following words is closer to your personality?",q5:"22. Do you have any additional thoughts and feedback on this chatbot-based recommender system? (more than 5 words)"},X={prefix:'Before concluding the survey, please **scroll down** to answer all of the following questions so that we can make improvements to the system. Try not to select "neutral".',fb1:"1, What do you think of the overall recommendation quality?",fb2:"2, What do you think of the overall chatbot intelligence?",fb3:"3, What do you think of the overall chatting experience?",q1:"4, What is your highest level of education?",q2:"5, Which of the following best describes your focus of work?",q3:"6, Which race/ethnicity best describes you?"},ee=y.default.get("window").width,te=y.default.get("window").height,ne=.65*Math.min(ee/320,te/640),oe=u.default.create({question:{fontFamily:"Arial",fontSize:16*ne,color:"black",fontWeight:"bold",paddingHorizontal:75*ne},checkbox:{marginLeft:75*ne,height:16*ne,width:16*ne},checkText:{fontFamily:"Arial",color:"black",fontSize:16*ne}});const ie=function(e){var t=e.question,n=e.options,o=e.onChange,l=e.containerStyle,r=(0,i.useState)(null),a=(0,s.default)(r,2),d=a[0],c=a[1],u=function(e){c(e),o&&o(e)};return(0,k.jsxs)(h.default,{style:l,children:[(0,k.jsx)(f.default,{style:oe.question,children:t}),n.map((function(e,t){return(0,k.jsx)(h.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:d===e,style:oe.checkbox,onChange:function(){return u(e)}}),(0,k.jsx)(f.default,{style:oe.checkText,children:e})]})},t)}))]})};var le=y.default.get("window").width,re=y.default.get("window").height,ae=.65*Math.min(le/320,re/640),se=u.default.create({question:{fontFamily:"Arial",fontSize:16*ae,color:"black",fontWeight:"bold",paddingHorizontal:75*ae},checkbox:{marginLeft:75*ae,height:16*ae,width:16*ae},checkText:{fontFamily:"Arial",color:"black",fontSize:16*ae}});const de=function(e){var t=e.question,n=e.options,o=e.onChange,l=(0,i.useState)(null),r=(0,s.default)(l,2),a=r[0],d=r[1],c=function(e){d(e),o&&o(e)};return(0,k.jsxs)(h.default,{children:[(0,k.jsx)(f.default,{style:se.question,children:t}),n.map((function(e,t){return(0,k.jsx)(h.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:a===e,style:se.checkbox,onChange:function(){return c(e)}}),(0,k.jsx)(f.default,{style:se.checkText,children:e})]})},t)}))]})};var ce=n(9219),ue=n.n(ce),fe=y.default.get("window").width,he=y.default.get("window").height,ge=.65*Math.min(fe/320,he/640),ye=u.default.create({container:{flexDirection:"column",alignItems:"center",justifyContent:"center"},sliderContainer:{position:"absolute",zIndex:1,alignItems:"center",justifyContent:"center",width:500*ge,marginLeft:130*ge,marginTop:20*ge},circleContainer:{position:"absolute",zIndex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:500*ge,marginLeft:130*ge,marginTop:20*ge},question:{fontFamily:"Arial",fontSize:17*ge,color:"black",fontWeight:"bold",marginLeft:75*ge},slider:{width:"100%"},scaleMarksContainer:{position:"absolute",zIndex:1,flexDirection:"row",justifyContent:"center",width:500*ge,marginLeft:130*ge,marginTop:50*ge},scaleMarkText:{fontFamily:"Arial",color:"black",fontSize:14*ge},progressText:{fontFamily:"Arial",color:"black",fontSize:16*ge,fontWeight:"bold",marginTop:8*ge,marginLeft:75*ge},button:{backgroundColor:"#597E52",borderRadius:5*ge,marginTop:20*ge},buttonText:{color:"white",fontWeight:"bold",textAlign:"center"},thumbStyle:{width:15*ge,height:15*ge,borderRadius:7.5*ge},circle:{position:"absolute",width:15*ge,height:15*ge,borderRadius:7.5*ge,marginTop:15*ge}});const xe=function(e){var t=e.question,n=e.onChange,o=e.containerStyle,l=(0,i.useState)(3),r=(0,s.default)(l,2),a=r[0],d=r[1],c=(0,i.useState)("gray"),u=(0,s.default)(c,2),g=u[0],y=u[1],x=(0,i.useState)(!1),b=(0,s.default)(x,2),m=b[0],p=b[1],j=a>=0&&m?"#D2E3C8":"gray",w=a>=1&&m?"#D2E3C8":"gray",C=a>=2&&m?"#D2E3C8":"gray",S=a>=3&&m?"#D2E3C8":"gray",v=a>=4&&m?"#D2E3C8":"gray",T=a>=5&&m?"#D2E3C8":"gray",z=a>=6&&m?"#D2E3C8":"gray",A=function(e){switch(e){case 0:return"strongly disagree";case 1:return"disagree";case 2:return"slightly disagree";case 3:default:return"neutral";case 4:return"slightly agree";case 5:return"agree";case 6:return"strongly agree"}};return(0,k.jsxs)(h.default,{style:o,children:[(0,k.jsx)(h.default,{style:{flex:.2,flexDirection:"column"},children:(0,k.jsx)(f.default,{style:ye.question,children:t})}),(0,k.jsxs)(h.default,{style:{flex:1,flexDirection:"column",marginTop:20*ge},children:[(0,k.jsxs)(h.default,{style:ye.circleContainer,children:[(0,k.jsx)(h.default,{style:[ye.circle,{left:"0%",backgroundColor:j}]}),(0,k.jsx)(h.default,{style:[ye.circle,{left:"15.995%",backgroundColor:w}]}),(0,k.jsx)(h.default,{style:[ye.circle,{left:"32.105%",backgroundColor:C}]}),(0,k.jsx)(h.default,{style:[ye.circle,{left:"48.525%",backgroundColor:S}]}),(0,k.jsx)(h.default,{style:[ye.circle,{left:"64.410%",backgroundColor:v}]}),(0,k.jsx)(h.default,{style:[ye.circle,{left:"80.475%",backgroundColor:T}]}),(0,k.jsx)(h.default,{style:[ye.circle,{left:"97.05%",backgroundColor:z}]})]}),(0,k.jsx)(h.default,{style:ye.sliderContainer,children:(0,k.jsx)(ue(),{style:ye.slider,minimumValue:0,maximumValue:6,step:1,value:a,onValueChange:function(e){d(e)},onSlidingComplete:function(e){p(!0),y("#597E52"),n(A(e))},minimumTrackTintColor:m?"#D2E3C8":"gray",maximumTrackTintColor:"gray",thumbTintColor:g,thumbStyle:ye.thumbStyle})}),(0,k.jsxs)(h.default,{style:ye.scaleMarksContainer,children:[(0,k.jsx)(f.default,{style:[ye.scaleMarkText,{left:"-35%"}],children:"strongly disagree"}),(0,k.jsx)(f.default,{style:[ye.scaleMarkText,,{left:"-1.5%"}],children:"neutral"}),(0,k.jsx)(f.default,{style:[ye.scaleMarkText,{left:"33%"}],children:"strongly agree"})]})]}),(0,k.jsx)(h.default,{style:{marginTop:80*ge},children:(0,k.jsxs)(f.default,{style:ye.progressText,children:["current choice: ",(0,k.jsx)(f.default,{style:{color:"#597E52"},children:A(a)})]})})]})};var be=y.default.get("window").width,me=y.default.get("window").height,pe=.65*Math.min(be/320,me/640);function je(e){var t=e.navigation,n=.8*be,o=.8*me,l=.1*me,r=(0,i.useState)(""),u=(0,s.default)(r,2),y=u[0],x=u[1],m=(0,i.useState)(""),p=(0,s.default)(m,2),j=p[0],w=p[1],v=(0,i.useState)(""),T=(0,s.default)(v,2),z=T[0],A=T[1],I=(0,i.useState)(""),D=(0,s.default)(I,2),P=D[0],F=D[1],W=(0,i.useState)(""),E=(0,s.default)(W,2),M=E[0],q=E[1],R=(0,i.useState)(""),H=(0,s.default)(R,2),O=H[0],L=H[1],B=(0,i.useState)(""),_=(0,s.default)(B,2),N=_[0],G=_[1],Y=(0,i.useState)(""),V=(0,s.default)(Y,2),U=V[0],J=V[1],K=(0,i.useState)(""),Z=(0,s.default)(K,2),ee=Z[0],te=Z[1],ne=(0,i.useState)(""),oe=(0,s.default)(ne,2),le=oe[0],re=oe[1],ae=(0,i.useState)(""),se=(0,s.default)(ae,2),ce=se[0],ue=se[1],fe=(0,i.useState)(""),he=(0,s.default)(fe,2),ge=he[0],ye=he[1],je=(0,i.useState)(""),Ce=(0,s.default)(je,2),Se=Ce[0],ke=Ce[1],ve=(0,i.useState)(""),Te=(0,s.default)(ve,2),ze=Te[0],Ae=Te[1],Ie=(0,i.useState)(""),De=(0,s.default)(Ie,2),Pe=De[0],Fe=De[1],We=(0,i.useState)(""),Ee=(0,s.default)(We,2),Me=Ee[0],qe=Ee[1],Re=(0,i.useState)(""),He=(0,s.default)(Re,2),Oe=He[0],Le=He[1],Be=(0,i.useState)(""),_e=(0,s.default)(Be,2),Ne=_e[0],Ge=_e[1],Ye=(0,i.useState)(""),Ve=(0,s.default)(Ye,2),Ue=Ve[0],Je=Ve[1],Ke=(0,i.useState)(""),Ze=(0,s.default)(Ke,2),Qe=Ze[0],$e=Ze[1],Xe=(0,i.useState)(""),et=(0,s.default)(Xe,2),tt=et[0],nt=et[1],ot=(0,i.useState)(""),it=(0,s.default)(ot,2),lt=it[0],rt=it[1],at=(0,i.useState)(""),st=(0,s.default)(at,2),dt=st[0],ct=st[1],ut=(0,i.useState)(""),ft=(0,s.default)(ut,2),ht=ft[0],gt=ft[1],yt=S().userId,xt=(0,i.useState)("Submit your feedback"),bt=(0,s.default)(xt,2),mt=bt[0],pt=bt[1],jt=(0,i.useState)(!1),wt=(0,s.default)(jt,2),Ct=wt[0],St=wt[1],kt=(0,i.useState)(!1),vt=(0,s.default)(kt,2),Tt=vt[0],zt=vt[1],At=(0,i.useState)("gray"),It=(0,s.default)(At,2),Dt=It[0],Pt=It[1];(0,i.useEffect)((function(){""!=j&&""!=z&&""!=P&&""!=M&&""!=O&&""!=N&&""!=U&&""!=ee&&""!=le&&""!=ce&&""!=ge&&""!=Se&&""!=ze&&""!=Pe&&""!=Me&&""!=Oe&&""!=Ue&&""!=Qe&&""!=tt&&""!=lt&&""!=dt&&""!=Ne?(Pt("#86A789"),x("")):Pt("gray")}),[j,z,P,M,O,N,U,ee,le,ce,ge,Se,ze,Pe,Me,Oe,Ue,Qe,tt,lt,dt,ht,Ne]);return(0,k.jsx)(b.default,{style:{flex:1},children:(0,k.jsxs)(h.default,{style:we.container,children:[(0,k.jsx)(h.default,{style:[we.titleContainer,{height:l}],children:(0,k.jsx)(f.default,{style:we.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(c.default,{contentContainerStyle:{height:o,backgroundColor:"white",paddingHorizontal:10*pe,borderRadius:15*pe,width:n,borderWidth:2*pe,borderColor:"black",flexDirection:"column",justifyContent:"flex-start",overflow:"scroll",alignSelf:"center"},showsVerticalScrollIndicator:!0,children:[(0,k.jsx)(h.default,{style:we.subTitleContainer,children:(0,k.jsx)(f.default,{style:we.subTitle,children:X.prefix})}),(0,k.jsx)(xe,{question:$.acca,onChange:function(e){console.log("Selected option:",e),w(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.expa,onChange:function(e){console.log("Selected option:",e),A(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.expb,onChange:function(e){console.log("Selected option:",e),F(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.expc,onChange:function(e){console.log("Selected option:",e),q(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.intera,onChange:function(e){console.log("Selected option:",e),L(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.usefa,onChange:function(e){console.log("Selected option:",e),G(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.usefb,onChange:function(e){console.log("Selected option:",e),J(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.trusta,onChange:function(e){console.log("Selected option:",e),te(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.trustb,onChange:function(e){console.log("Selected option:",e),re(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.eata,onChange:function(e){console.log("Selected option:",e),ue(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.extra,onChange:function(e){console.log("Selected option:",e),Ge(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.useia,onChange:function(e){console.log("Selected option:",e),ye(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.useib,onChange:function(e){console.log("Selected option:",e),ke(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.useic,onChange:function(e){console.log("Selected option:",e),Ae(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.quaa,onChange:function(e){console.log("Selected option:",e),Fe(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.ada,onChange:function(e){console.log("Selected option:",e),qe(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(xe,{question:$.adb,onChange:function(e){console.log("Selected option:",e),Le(e)},containerStyle:we.valcontainer}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsxs)(h.default,{style:we.valcontainer,children:[(0,k.jsx)(de,{question:$.q1,options:["High school diploma / GED","Associate degree","Bachelor's degree","Trade school certification","Master's degree or higher education","Other (please specify):"],onChange:function(e){console.log("Selected option:",e),Je(e)}}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:ht,onChange:function(e){gt(e.target.value)},placeholder:"Please enter specific information here.",style:we.input}),(0,k.jsx)(h.default,{style:we.line})]})]}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(ie,{question:$.q2,options:["Computer Science / Engineering","Creative Media / Design","Environmental Science","Physics / Chemistry / Biology","Business / Finance","Law","Medical Science / Healthcare","Publishing","Education","Social Science / Humanity","Service industry"],onChange:function(e){console.log("Selected option:",e),$e(e)},containerStyle:[we.valcontainer,{marginTop:5}]}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(ie,{question:$.q3,options:["American Indian or Alaskan Native","Asian","Black or African American","Caucasian or White","Hispanic or Latino","Native Hawaiian or Other Pacific Islander","Multiracial / Other","Prefer not to say"],onChange:function(e){console.log("Selected option:",e),nt(e)},containerStyle:[we.valcontainer,{marginTop:5}]}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsx)(ie,{question:$.q4,options:["extroverted","neutral","introverted"],onChange:function(e){console.log("Selected option:",e),rt(e)},containerStyle:[we.valcontainer,{marginTop:5}]}),(0,k.jsx)(f.default,{style:{fontSize:16*pe,color:"white"},children:" "}),(0,k.jsxs)(h.default,{style:[we.valcontainer,{marginTop:10}],children:[(0,k.jsx)(f.default,{style:[we.question,{marginBottom:10}],children:$.q5}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:dt,onChange:function(e){ct(e.target.value)},placeholder:"Please enter your feedback here.",style:we.input}),(0,k.jsx)(h.default,{style:we.line})]})]}),(0,k.jsx)(h.default,{style:we.valcontainer,children:(0,k.jsx)(f.default,{style:we.warntexts,children:y})})]}),(0,k.jsx)(h.default,{style:[we.bottomContainer,{height:l}],children:(0,k.jsx)(g.default,{style:[{marginRight:.1*be,width:.125*be,height:.03*me,backgroundColor:Dt,justifyContent:"center",alignItems:"center"},Tt&&{backgroundColor:"#597E52"}],onFocus:function(){zt(!0)},onBlur:function(){zt(!1)},onPress:(0,a.default)((function*(){if(""!=j&&""!=z&&""!=P&&""!=M&&""!=O&&""!=N&&""!=U&&""!=ee&&""!=le&&""!=ce&&""!=ge&&""!=Se&&""!=ze&&""!=Pe&&""!=Me&&""!=Oe&&""!=Ue&&""!=Qe&&""!=tt&&""!=lt&&""!=dt&&""!=Ne){var e=dt.trim().split(" ").length;if(console.log("words:",e),"Other (please specify):"==Ue&&""==ht||e<5)x(e>=5?C.edu:"Please enter more than 5 words in your feedback.");else if(1==!/^(?=.*[a-zA-Z])[\w\s.,?!;:'"()-]+$/.test(dt))x("Please enter meaningful thoughts and feedback.");else{St(!0);var n=yield Q(yt,j,z,P,M,O,N,U,ee,le,ce,ge,Se,ze,Pe,Me,Oe,Ue+"("+ht+")",Qe,tt,lt,dt,Ne);console.log("status",n),x(""),pt("Feedback submitted!"),t.navigate("ID")}}else x("Please finish the survey, thanks!")})),disabled:Ct,children:(0,k.jsx)(f.default,{style:we.buttonText,children:mt})})}),(0,k.jsx)(d.default,{style:"auto"})]})})}var we=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},valcontainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white",marginBottom:10*pe},bottomContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},subTitleContainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white",alignSelf:"stretch",marginTop:15*pe,marginBottom:15*pe},subTitle:{fontFamily:"Arial",fontSize:18*pe,color:"#597E52",fontWeight:"bold",marginLeft:75*pe},title:{fontFamily:"Arial",fontSize:40*pe,color:"#597E52",fontWeight:"bold"},input:{fontSize:16*pe,border:"none",width:"200%",height:"100%",marginLeft:75*pe,outlineWidth:"none"},line:{width:"200%",height:1*pe,backgroundColor:"black",marginLeft:75*pe,borderWidth:1*pe},question:{fontFamily:"Arial",fontSize:16*pe,color:"black",fontWeight:"bold",paddingHorizontal:75*pe},button:{flexDirection:"column",marginLeft:75*pe,width:"80%",height:"30%",backgroundColor:"#86A789",justifyContent:"center",alignItems:"center",left:"215%"},buttonText:{fontFamily:"Arial",color:"white",textAlign:"center",textAlignVertical:"center",fontSize:16*pe},warntexts:{fontFamily:"Arial",fontSize:14*pe,color:"red",marginLeft:75*pe},bot:{width:70*pe,height:70*pe}}),Ce={intro:"Welcome to our research! You are invited to take part in a research study. Whether you take part is up to you.",reteam:"Principal Investigator: Dr. Yuhan Luo, Assistant Professor, City University of Hong Kong, Department of Computer Science;\nPrimary contact: Minhui Liang, Ph.D. Student, City University of Hong Kong, Department of Computer Science.",procedure:"In this survey, you will talk to a chatbot, which is designed to recommend personalized and healthy food for you. At the end of the conversation, you will be asked to decide whether you would like to take the recommend in the following week and a few questions about your conversation experience.\nThe survey consists of six parts: 1) filling out a short screening questionnaire to ensure that you meet the inclusion criteria; 2) providing your demographic and basic health information to prepare for the conversation; 3) customizing the chatbot (e.g., personality) according to your preference; 4) interacting with the chatbot to receive the recommendation; 5) providing your feedback with the recommending system; 6) You may receive a short follow-up survey in about one week after the study.\nOverall, the survey will take less than 15 minutes. Upon completion, you will receive 4 USD (~ 30 HKD or 3 GPB) to thank for your time.",risk:"The chatbot is powered by a large language model (LLM), which aims to recommend food by optimizing your eating preferences and health goals. While we have evaluated the recommendation results with professional nutritionists, the recommendation may not 100% fit your health profile. Therefore, the study is intended only for people *without* serious health concerns or food allergy.",bene:"1) You will have the opportunity to engage in a conversation with the latest large language model (LLM) and learn about their potentials.\n2) Through a short conversation with the chatbot, you will receive personalized food recommendations that could benefit your health.",confi:"All information gathered from this study will be kept confidential. Only the research team will have access to the data, and the raw data will be removed after the analysis is complete. Your privacy is of the utmost importance to us. Please note that you have the right to withdraw from this study at any time, particularly if you feel uncomfortable with the images presented."},Se=y.default.get("window").width,ke=y.default.get("window").height,ve=.65*Math.min(Se/320,ke/640);function Te(e){var t=e.navigation,n=.8*Se,o=.8*ke,l=.1*ke,r=(0,i.useState)(!1),a=(0,s.default)(r,2),c=a[0],u=a[1],y=(0,i.useState)(!1),x=(0,s.default)(y,2),b=x[0],m=x[1],p=(0,i.useState)(!1),j=(0,s.default)(p,2),w=j[0],C=j[1],S=(0,i.useState)("gray"),v=(0,s.default)(S,2),T=v[0],z=v[1];return(0,i.useEffect)((function(){z(1==c?"#86A789":"gray")}),[c]),(0,k.jsxs)(h.default,{style:ze.container,children:[(0,k.jsx)(h.default,{style:[ze.titleContainer,{height:l}],children:(0,k.jsx)(f.default,{style:ze.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(h.default,{style:{height:o,backgroundColor:"white",paddingHorizontal:10*ve,borderRadius:15*ve,width:n,borderWidth:2*ve,borderColor:"black",flexDirection:"column",justifyContent:"flex-start",alignSelf:"center"},children:[(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(h.default,{style:{height:.04*ke,backgroundColor:"#86A789",paddingHorizontal:10*ve,borderRadius:7.5*ve,width:.19*Se,marginRight:30*ve,justifyContent:"center",alignItems:"center",alignSelf:"flex-end"},children:(0,k.jsx)(f.default,{style:ze.texts,children:"Scroll if you cannot see full text"})}),(0,k.jsx)(f.default,{style:ze.subTitle,children:"Introduction"}),(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*ve,color:"black",paddingHorizontal:75*ve},children:Ce.intro}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(f.default,{style:ze.subTitle,children:"Research Team"}),(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*ve,color:"black",paddingHorizontal:75*ve},children:Ce.reteam}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(f.default,{style:ze.subTitle,children:"Study Procedure"}),(0,k.jsxs)(f.default,{style:{fontFamily:"Arial",fontSize:16*ve,color:"black",paddingHorizontal:75*ve},children:["In this survey, you will talk to a chatbot, which is designed to recommend personalized and healthy food for you. At the end of the conversation, you will be asked to decide whether you would like to take the recommend in the following week and a few questions about your conversation experience.\nThe survey consists of six parts: 1) filling out a short screening questionnaire to ensure that you meet the inclusion criteria; 2) providing your demographic and basic health information to prepare for the conversation; 3) customizing the chatbot (e.g., personality) according to your preference; 4) interacting with the chatbot to receive the recommendation; 5) providing your feedback with the recommending system;",(0,k.jsx)(f.default,{style:{color:"#597E52",fontWeight:"bold"},children:" 6) You may receive a short follow-up survey in about one week after the study."}),"\nOverall, the survey will take less than 15 minutes. Upon completion, you will receive a compensation equivalent to 3 USD (~ GBP 2.5, or HKD 24) to thank for your time."]}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(f.default,{style:ze.subTitle,children:"Potential Risk"}),(0,k.jsxs)(f.default,{style:{fontFamily:"Arial",fontSize:16*ve,color:"black",paddingHorizontal:75*ve},children:["The chatbot is powered by a large language model (LLM), which aims to recommend food by optimizing your eating preferences and health goals. While we have evaluated the recommendation results with professional nutritionists, the recommendation may not 100% fit your health profile. Therefore, the study is intended only for people ",(0,k.jsx)(f.default,{style:{color:"#597E52",fontWeight:"bold"},children:"without"})," serious health concerns or food allergy."]}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(f.default,{style:ze.subTitle,children:"Benefits"}),(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*ve,color:"black",paddingHorizontal:75*ve},children:Ce.bene}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(f.default,{style:ze.subTitle,children:"Confidentiality"}),(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*ve,color:"black",paddingHorizontal:75*ve},children:Ce.confi}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "}),(0,k.jsx)(f.default,{style:ze.question,children:"Do you consent to participate in the study?"}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:c,onChange:function(e){u(e.target.checked),m(!1)},style:ze.checkbox}),"Yes, I consent."]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:b,onChange:function(e){m(e.target.checked),u(!1)},style:ze.checkbox}),"No, I do not consent."]}),(0,k.jsx)(f.default,{style:ze.subTitle,children:" "})]}),(0,k.jsx)(h.default,{style:[ze.subTitleContainer,{height:l}],children:(0,k.jsx)(g.default,{style:[{marginRight:.1*Se,width:.145*Se,height:.03*ke,backgroundColor:T,justifyContent:"center",alignItems:"center"},w&&{backgroundColor:"#597E52"}],onFocus:function(){C(!0)},onBlur:function(){C(!1)},onPress:function(){c&&t.navigate("Quali")},children:(0,k.jsx)(f.default,{style:ze.texts,children:"Next: Screening Questions"})})}),(0,k.jsx)(d.default,{style:"auto"})]})}var ze=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},subTitleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainer:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},eleContainerPlus:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},eleContainerSub:{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},title:{fontFamily:"Arial",fontSize:40*ve,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Arial",fontSize:20*ve,color:"black",fontWeight:"bold",marginLeft:75*ve},question:{fontFamily:"Arial",fontSize:20*ve,color:"#597E52",fontWeight:"bold",marginLeft:75*ve},texts:{fontFamily:"Arial",fontSize:16*ve,color:"white"},checkbox:{marginLeft:75*ve,height:16*ve,width:16*ve},bot:{marginBottom:20*ve,marginLeft:15*ve,width:65*ve,height:65*ve}}),Ae=y.default.get("window").width,Ie=y.default.get("window").height,De=.65*Math.min(Ae/320,Ie/640);function Pe(e){var t=e.navigation,n=.8*Ae,o=(0,i.useState)(!1),l=(0,s.default)(o,2),r=l[0],a=l[1],u=(0,i.useState)(!1),y=(0,s.default)(u,2),x=y[0],b=y[1],m=(0,i.useState)(!1),p=(0,s.default)(m,2),j=p[0],S=p[1],v=(0,i.useState)(!1),T=(0,s.default)(v,2),z=T[0],A=T[1],I=(0,i.useState)(!1),D=(0,s.default)(I,2),P=D[0],F=D[1],W=(0,i.useState)(!1),E=(0,s.default)(W,2),M=E[0],q=E[1],R=(0,i.useState)(!1),H=(0,s.default)(R,2),O=H[0],L=H[1],B=(0,i.useState)(!1),_=(0,s.default)(B,2),N=_[0],G=_[1],Y=(0,i.useState)(!1),V=(0,s.default)(Y,2),U=V[0],J=V[1],K=(0,i.useState)(!1),Z=(0,s.default)(K,2),Q=Z[0],$=Z[1],X=(0,i.useState)(!1),ee=(0,s.default)(X,2),te=ee[0],ne=ee[1],oe=(0,i.useState)(""),ie=(0,s.default)(oe,2),le=ie[0],re=ie[1],ae=(0,i.useState)("gray"),se=(0,s.default)(ae,2),de=se[0],ce=se[1];return(0,i.useEffect)((function(){1!=r||1!=P&&1!=M||1!=O||1!=Q?ce("gray"):(ce("#86A789"),re(""))}),[r,P,M,O,Q]),(0,k.jsxs)(c.default,{contentContainerStyle:Fe.container,children:[(0,k.jsx)(h.default,{style:Fe.titleContainer,children:(0,k.jsx)(f.default,{style:Fe.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(c.default,{contentContainerStyle:{flex:9,backgroundColor:"white",paddingHorizontal:10*De,borderRadius:15*De,width:n,borderWidth:2*De,borderColor:"black",flexDirection:"column",justifyContent:"center",alignSelf:"center"},children:[(0,k.jsx)(h.default,{style:Fe.subTitleContainer,children:(0,k.jsx)(f.default,{style:Fe.subTitle,children:w.prefix})}),(0,k.jsxs)(h.default,{style:Fe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*De,color:"black",fontWeight:"bold",paddingHorizontal:75*De},children:w.first}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:r,onChange:function(e){a(e.target.checked),b(!1)},style:Fe.checkbox}),"Yes"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:x,onChange:function(e){b(e.target.checked),a(!1)},style:Fe.checkbox}),"No"]})]}),(0,k.jsxs)(h.default,{style:Fe.eleContainerPlus,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*De,color:"black",fontWeight:"bold",paddingHorizontal:75*De},children:w.second}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:j,onChange:function(e){S(e.target.checked),A(!1),F(!1),q(!1)},style:Fe.checkbox}),"Not fluent at all"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:z,onChange:function(e){A(e.target.checked),S(!1),F(!1),q(!1)},style:Fe.checkbox}),"A little bit"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:P,onChange:function(e){F(e.target.checked),S(!1),A(!1),q(!1)},style:Fe.checkbox}),"Fluent"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:M,onChange:function(e){q(e.target.checked),S(!1),A(!1),F(!1)},style:Fe.checkbox}),"I am a native speaker"]})]}),(0,k.jsxs)(h.default,{style:Fe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*De,color:"black",fontWeight:"bold",paddingHorizontal:75*De},children:w.third}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:O,onChange:function(e){L(e.target.checked),G(!1)},style:Fe.checkbox}),"Yes"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:N,onChange:function(e){G(e.target.checked),L(!1)},style:Fe.checkbox}),"No"]})]}),(0,k.jsxs)(h.default,{style:Fe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*De,color:"black",fontWeight:"bold",paddingHorizontal:75*De},children:w.fourth}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:U,onChange:function(e){J(e.target.checked),$(!1)},style:Fe.checkbox}),"Yes"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:Q,onChange:function(e){$(e.target.checked),J(!1)},style:Fe.checkbox}),"No"]})]}),(0,k.jsx)(h.default,{style:Fe.eleContainerSub,children:(0,k.jsx)(f.default,{style:Fe.warntexts,children:le})})]}),(0,k.jsx)(h.default,{style:Fe.bottomContainer,children:(0,k.jsx)(g.default,{style:[{marginRight:.1*Ae,width:.105*Ae,height:.03*Ie,backgroundColor:de,justifyContent:"center",alignItems:"center"},te&&{backgroundColor:"#597E52"}],onFocus:function(){ne(!0)},onBlur:function(){ne(!1)},onPress:function(){1!=r||1!=P&&1!=M||1!=O||1!=Q?0==r&&0==x||0==j&&0==z&&0==P&&0==M||0==O&&0==N||0==U&&0==Q?re(C.notfinish):1!=x&&1!=j&&1!=z&&1!=N&&1!=U||re(C.notqali):(re(""),t.navigate("Info"))},children:(0,k.jsx)(f.default,{style:Fe.texts,children:"Next: User Profile"})})}),(0,k.jsx)(d.default,{style:"auto"})]})}var Fe=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},subTitleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},bottomContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainerSub:{flex:.3,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainerPlus:{flex:1.4,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},title:{fontFamily:"Arial",fontSize:40*De,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Arial",fontSize:18*De,color:"#597E52",fontWeight:"bold",marginLeft:75*De},texts:{fontFamily:"Arial",fontSize:16*De,color:"white",textAlign:"center"},warntexts:{fontFamily:"Arial",fontSize:14*De,color:"red",marginLeft:75*De},checkbox:{marginLeft:75*De,height:16*De,width:16*De},bot:{marginBottom:20*De,marginLeft:15*De,width:65*De,height:65*De}}),We=n(1021);const Ee=function(e,t,n,o,i,l,r,a){return Math.floor(4*Math.random()).toString(),new Promise((function(s,d){var c={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({email:e,gender:t,age:n,height:o,weight:i,location:l,contraindication:r,healthconcern:a})};fetch("https://www.foodcrs.com/home",c).then((function(e){return e.json()})).then((function(e){return s(e.status)})).catch((function(e){return d(e)}))}))};var Me=y.default.get("window").width,qe=y.default.get("window").height,Re=.65*Math.min(Me/320,qe/640);function He(e){var t=e.navigation,n=.8*Me,o=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,l=(0,i.useState)(!1),r=(0,s.default)(l,2),u=r[0],y=r[1],x=(0,i.useState)(!1),b=(0,s.default)(x,2),m=b[0],p=b[1],j=(0,i.useState)(!1),v=(0,s.default)(j,2),T=v[0],z=v[1],A=(0,i.useState)(""),I=(0,s.default)(A,2),D=I[0],P=I[1],F=(0,i.useState)(""),W=(0,s.default)(F,2),E=W[0],M=W[1],q=(0,i.useState)(""),R=(0,s.default)(q,2),H=R[0],O=R[1],L=(0,i.useState)(""),B=(0,s.default)(L,2),_=B[0],N=B[1],G=(0,i.useState)(""),Y=(0,s.default)(G,2),V=Y[0],U=Y[1],J=(0,i.useState)(""),K=(0,s.default)(J,2),Z=K[0],Q=K[1],$=(0,i.useState)(""),X=(0,s.default)($,2),ee=X[0],te=X[1],ne=(0,i.useState)(""),oe=(0,s.default)(ne,2),ie=oe[0],le=oe[1],re=(0,i.useState)(""),ae=(0,s.default)(re,2),se=ae[0],de=ae[1],ce=(0,i.useState)(""),ue=(0,s.default)(ce,2),fe=ue[0],he=ue[1],ge=(0,i.useState)(!1),ye=(0,s.default)(ge,2),xe=ye[0],be=ye[1],me=(0,i.useState)(!1),pe=(0,s.default)(me,2),je=pe[0],we=pe[1],Ce=(0,i.useState)("gray"),Se=(0,s.default)(Ce,2),ke=Se[0],ve=Se[1],Te=S(),ze=(Te.userId,Te.setUserId);return(0,i.useEffect)((function(){null==D||null==E||null==H||1!=u&&1!=m&&1!=T||""==_||""==V||""==ie||""==se?ve("gray"):(ve("#86A789"),he(""))}),[D,E,H,u,m,T,_,V,ie,se]),(0,k.jsxs)(c.default,{contentContainerStyle:Oe.container,children:[(0,k.jsx)(h.default,{style:Oe.titleContainer,children:(0,k.jsx)(f.default,{style:Oe.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(c.default,{contentContainerStyle:{flex:9,backgroundColor:"white",paddingHorizontal:10*Re,borderRadius:15*Re,width:n,borderWidth:2*Re,borderColor:"black",flexDirection:"column",justifyContent:"center",alignSelf:"center"},children:[(0,k.jsxs)(h.default,{style:Oe.eleContainerPlus,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.fifth}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:m,onChange:function(e){p(e.target.checked),y(!1),z(!1)},style:Oe.checkbox}),"Female"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:T,onChange:function(e){z(e.target.checked),y(!1),p(!1)},style:Oe.checkbox}),"Intersex"]}),(0,k.jsxs)("label",{children:[(0,k.jsx)("input",{type:"radio",checked:u,onChange:function(e){y(e.target.checked),p(!1),z(!1)},style:Oe.checkbox}),"Male"]})]}),(0,k.jsxs)(h.default,{style:Oe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.sixth}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"number",min:"18",max:"120",value:D,onChange:function(e){P(e.target.value)},placeholder:"Please enter your age.",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsxs)(h.default,{style:Oe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.seventh}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"number",min:"100",max:"220",value:E,onChange:function(e){M(e.target.value)},placeholder:"Please enter your height.",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsxs)(h.default,{style:Oe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.eighth}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"number",min:"30",max:"150",value:H,onChange:function(e){O(e.target.value)},placeholder:"Please enter your weight.",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsxs)(h.default,{style:Oe.eleContainerMid,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.ninth}),(0,k.jsx)(We.CountryDropdown,{style:{width:"15%",height:"20%",marginLeft:75*Re},value:_,onChange:function(e){return N(e)}}),(0,k.jsx)(We.RegionDropdown,{style:{width:"15%",height:"20%",marginLeft:75*Re},country:_,value:V,onChange:function(e){return U(e)}})]}),(0,k.jsxs)(h.default,{style:[Oe.eleContainer,{bottom:"3.5%"}],children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.tenth}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:Z,onChange:function(e){Q(e.target.value)},placeholder:"Please enter your food restrictions(if any).",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsxs)(h.default,{style:[Oe.eleContainer,{bottom:"3%"}],children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.eleventh}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:ee,onChange:function(e){te(e.target.value)},placeholder:"Please enter your health condition(if any).",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsxs)(h.default,{style:Oe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.twelfth}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:ie,onChange:function(e){le(e.target.value)},placeholder:"Please enter your name.",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsxs)(h.default,{style:Oe.eleContainer,children:[(0,k.jsx)(f.default,{style:{fontFamily:"Arial",fontSize:16*Re,color:"black",fontWeight:"bold",paddingHorizontal:75*Re},children:w.thirteenth}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:se,onChange:function(e){de(e.target.value)},placeholder:"Please enter your email.",style:Oe.input}),(0,k.jsx)(h.default,{style:Oe.line})]})]}),(0,k.jsx)(h.default,{style:Oe.eleContainerSub,children:(0,k.jsx)(f.default,{style:Oe.warntexts,children:fe})})]}),(0,k.jsx)(h.default,{style:Oe.bottomContainer,children:(0,k.jsx)(g.default,{style:[{marginRight:.1*Me,width:.155*Me,height:.03*qe,backgroundColor:ke,justifyContent:"center",alignItems:"center"},je&&{backgroundColor:"#597E52"}],onFocus:function(){we(!0)},onBlur:function(){we(!1)},onPress:(0,a.default)((function*(){if(null==D||null==E||null==H||1!=u&&1!=m&&1!=T||""==_||""==V||""==ie||""==se)he(""==D?C.age:""==E?C.height:""==H?C.weight:u||m||T?""==_?C.country:""==V?C.region:""==ie?C.name:""==se?C.email:C.notfinish:C.gender);else if(Number(D)>120||Number(D)<18)he(C.age);else if(Number(E)<100||Number(E)>220)he(C.height);else if(Number(H)<30||Number(H)>150)he(C.weight);else if(o.test(se)){var e=null;!m||T||u||(e="female"),m||!T||u||(e="intersex"),m||T||!u||(e="male"),be(!0),he(""),""==Z&&Q("none"),""==ee&&te("none"),console.log("here"),ze(se);var n=yield Ee(se,e,D,E,H,_+", "+V,Z,ee);console.log("status",n),t.navigate("Cus")}else he(C.email)})),disabled:xe,children:(0,k.jsx)(f.default,{style:Oe.texts,children:"Next: Chatbot Customization"})})}),(0,k.jsx)(d.default,{style:"auto"})]})}var Oe=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"white",alignSelf:"center"},subTitleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},bottomContainer:{flex:.5,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainerSub:{flex:.3,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainer:{flex:1,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainerMid:{flex:1.5,flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",backgroundColor:"white"},eleContainerPlus:{flex:2,flexDirection:"column",alignItems:"flex-start",justifyContent:"center",backgroundColor:"white"},title:{fontFamily:"Arial",fontSize:40*Re,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Arial",fontSize:18*Re,color:"#DE8F5F",fontWeight:"bold",marginLeft:75},texts:{fontFamily:"Arial",fontSize:16*Re,color:"white",textAlign:"center"},warntexts:{fontFamily:"Arial",fontSize:14*Re,color:"red",marginLeft:75*Re},checkbox:{marginLeft:75*Re,height:16*Re,width:16*Re},input:{fontSize:16*Re,padding:0,border:"none",width:"180%",height:"120%",marginLeft:75*Re,borderBottomWidth:2*Re},line:{width:"180%",height:1*Re,backgroundColor:"black",marginLeft:75*Re,borderWidth:1*Re},bot:{marginBottom:20*Re,marginLeft:15*Re,width:65*Re,height:65*Re}});const Le=function(e,t){return Math.floor(4*Math.random()).toString(),new Promise((function(n,o){var i={method:"POST",credentials:"include",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({uid:e,proid:t})};fetch("https://www.foodcrs.com/proid",i).then((function(e){return e.json()})).then((function(e){return n(e.status)})).catch((function(e){return o(e)}))}))};var Be=y.default.get("window").width,_e=y.default.get("window").height,Ne=.65*Math.min(Be/320,_e/640);function Ge(){var e=.8*Be,t=(0,i.useState)(""),n=(0,s.default)(t,2),o=n[0],l=n[1],r=(0,i.useState)(!1),c=(0,s.default)(r,2),u=c[0],y=c[1],x=(0,i.useState)("gray"),b=(0,s.default)(x,2),m=b[0],p=b[1],j=(0,i.useState)("Finish the survey"),w=(0,s.default)(j,2),C=w[0],v=w[1],T=(0,i.useState)(""),z=(0,s.default)(T,2),A=z[0],I=z[1],D=(0,i.useState)(!1),P=(0,s.default)(D,2),F=P[0],W=P[1],E=S().userId;return(0,i.useEffect)((function(){p(""!=o?"#86A789":"gray")}),[o]),(0,k.jsxs)(h.default,{style:Ye.container,children:[(0,k.jsx)(h.default,{style:Ye.titleContainer,children:(0,k.jsx)(f.default,{style:Ye.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(h.default,{style:{flex:9,width:e,backgroundColor:"white",paddingHorizontal:10*Ne,borderRadius:15*Ne,borderWidth:2*Ne,borderColor:"black",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:[(0,k.jsx)(h.default,{style:Ye.eleContainerPlus,children:(0,k.jsx)(f.default,{style:Ye.subTitle,children:"Thank you for participating in the survey! \ud83c\udf89"})}),(0,k.jsx)(h.default,{style:Ye.eleContainerSub,children:(0,k.jsx)(f.default,{style:Ye.subTitle,children:" "})}),(0,k.jsxs)(h.default,{style:Ye.eleContainer,children:[(0,k.jsx)(f.default,{style:Ye.question,children:"Please enter your prolific ID or FPS (for Hong Kong participants only): "}),(0,k.jsx)(f.default,{style:Ye.promptTexts,children:"(make sure you click \u201cFinish the survey\u201d button before leaving):"}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:o,onChange:function(e){I(""),l(e.target.value)},placeholder:"Please enter your prolific ID or FPS here",style:Ye.input}),(0,k.jsx)(h.default,{style:Ye.line})]}),(0,k.jsx)(f.default,{style:Ye.code,children:" "}),(0,k.jsx)(f.default,{style:Ye.code,children:" "}),(0,k.jsx)(f.default,{style:Ye.code,children:" "}),(0,k.jsx)(f.default,{style:Ye.code,children:"Your secret code: City_Food_2024"})]}),(0,k.jsx)(h.default,{style:Ye.eleContainerSub,children:(0,k.jsx)(f.default,{style:Ye.warnText,children:A})})]}),(0,k.jsx)(h.default,{style:Ye.subTitleContainer,children:(0,k.jsx)(g.default,{style:[{width:.1*Be,height:.03*_e,backgroundColor:m,justifyContent:"center",alignItems:"center",marginRight:.1*Be},u&&{backgroundColor:"#597E52"}],onFocus:function(){y(!0)},onBlur:function(){y(!1)},onPress:(0,a.default)((function*(){if(""!=o){W(!0),I("");var e=yield Le(E,o);console.log("status",e),v("Submitted \ud83c\udf8a")}else I("Please enter your prolific ID")})),disabled:F,children:(0,k.jsx)(f.default,{style:Ye.texts,children:C})})}),(0,k.jsx)(d.default,{style:"auto"})]})}var Ye=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:1,flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"white"},subTitleContainer:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainer:{flex:1.5,backgroundColor:"white"},eleContainerPlus:{flex:1.8,flexDirection:"column",justifyContent:"flex-end",backgroundColor:"white"},eleContainerSub:{flex:.5,backgroundColor:"white"},title:{fontFamily:"Arial",fontSize:40*Ne,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Arial",fontSize:30*Ne,color:"black",fontWeight:"bold"},question:{fontFamily:"Arial",fontSize:18*Ne,color:"#597E52",fontWeight:"bold",marginLeft:30*Ne,marginBottom:10*Ne},texts:{fontFamily:"Arial",fontSize:16*Ne,color:"white"},code:{fontFamily:"Arial",fontSize:16*Ne,fontWeight:"bold",color:"black",marginLeft:30*Ne},promptTexts:{fontFamily:"Arial",fontSize:15*Ne,color:"black",marginLeft:30*Ne,marginBottom:10*Ne},bot:{marginBottom:20*Ne,marginLeft:15*Ne,width:65*Ne,height:65*Ne},input:{fontSize:16*Ne,border:"none",width:"63%",height:"100%",marginLeft:30*Ne,outlineWidth:"none"},line:{width:"63%",height:1*Ne,backgroundColor:"black",marginLeft:30*Ne,borderWidth:1*Ne},warnText:{fontFamily:"Arial",fontSize:14*Ne,color:"red"}}),Ve=y.default.get("window").width,Ue=y.default.get("window").height,Je=.65*Math.min(Ve/320,Ue/640);function Ke(e){var t=e.navigation,n=.8*Ve,o=(0,i.useState)(""),l=(0,s.default)(o,2),r=l[0],c=l[1],u=(0,i.useState)(""),y=(0,s.default)(u,2),x=y[0],b=y[1],m=(0,i.useState)(!1),p=(0,s.default)(m,2),j=p[0],w=p[1],C=(0,i.useState)("gray"),S=(0,s.default)(C,2),v=S[0],T=S[1],z=(0,i.useState)("Next: Introduction"),A=(0,s.default)(z,2),I=A[0],D=(A[1],(0,i.useState)("")),P=(0,s.default)(D,2),F=P[0],W=P[1],E=(0,i.useState)(!1),M=(0,s.default)(E,2),q=M[0],R=M[1],H="tester",O="CqMyG123";return(0,i.useEffect)((function(){T(r==H&&x==O?"#86A789":"gray")}),[r,x]),(0,k.jsxs)(h.default,{style:Ze.container,children:[(0,k.jsx)(h.default,{style:Ze.titleContainer,children:(0,k.jsx)(f.default,{style:Ze.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsxs)(h.default,{style:{flex:9,width:n,backgroundColor:"white",paddingHorizontal:10*Je,borderRadius:15*Je,borderWidth:2*Je,borderColor:"black",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:[(0,k.jsxs)(h.default,{style:Ze.eleContainer,children:[(0,k.jsx)(f.default,{style:Ze.question,children:"Please enter your ID: "}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:r,onChange:function(e){W(""),c(e.target.value)},placeholder:"Please enter your ID here",style:Ze.input}),(0,k.jsx)(h.default,{style:Ze.line})]}),(0,k.jsx)(f.default,{style:{fontSize:20*Je,color:"white"},children:" "}),(0,k.jsx)(f.default,{style:{fontSize:20*Je,color:"white"},children:" "}),(0,k.jsx)(f.default,{style:Ze.question,children:"Please enter your password: "}),(0,k.jsxs)("div",{className:"input-line",children:[(0,k.jsx)("input",{type:"text",value:x,onChange:function(e){W(""),b(e.target.value)},placeholder:"Please enter your password here",style:Ze.input}),(0,k.jsx)(h.default,{style:Ze.line})]})]}),(0,k.jsx)(h.default,{style:Ze.eleContainerSub,children:(0,k.jsx)(f.default,{style:Ze.warnText,children:F})})]}),(0,k.jsx)(h.default,{style:Ze.subTitleContainer,children:(0,k.jsx)(g.default,{style:[{width:.105*Ve,height:.03*Ue,backgroundColor:v,justifyContent:"center",alignItems:"center",marginRight:.1*Ve},j&&{backgroundColor:"#597E52"}],onFocus:function(){w(!0)},onBlur:function(){w(!1)},onPress:(0,a.default)((function*(){r==H&&x==O?(R(!0),W(""),t.navigate("Intro")):W("Incorrect user name or password.")})),disabled:q,children:(0,k.jsx)(f.default,{style:Ze.texts,children:I})})}),(0,k.jsx)(d.default,{style:"auto"})]})}var Ze=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{flex:1,flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"white"},subTitleContainer:{flex:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},eleContainer:{flex:3,flexDirection:"column",backgroundColor:"white",justifyContent:"center",alignItems:"flex-start",marginTop:50*Je},eleContainerSub:{flex:.5,flexDirection:"column",backgroundColor:"white",justifyContent:"center",alignItems:"center"},title:{fontFamily:"Arial",fontSize:40*Je,color:"#597E52",fontWeight:"bold"},subTitle:{fontFamily:"Arial",fontSize:30*Je,color:"black",fontWeight:"bold"},question:{fontFamily:"Arial",fontSize:18*Je,color:"#597E52",fontWeight:"bold",marginBottom:10*Je},texts:{fontFamily:"Arial",fontSize:16*Je,color:"white"},promptTexts:{fontFamily:"Arial",fontSize:15*Je,color:"black",marginLeft:112*Je,marginBottom:10*Je},bot:{marginBottom:20*Je,marginLeft:15*Je,width:65*Je,height:65*Je},input:{fontSize:16*Je,border:"none",width:"150%",height:"100%",outlineWidth:"none"},line:{width:"150%",height:1*Je,backgroundColor:"black",borderWidth:1*Je},warnText:{fontFamily:"Arial",fontSize:14*Je,color:"red"}}),Qe=y.default.get("window").width,$e=y.default.get("window").height,Xe=.65*Math.min(Qe/320,$e/640);function et(e){var t=e.navigation,o=.8*Qe,l=(0,i.useState)(!1),r=(0,s.default)(l,2),a=r[0],c=r[1],u=(0,i.useState)(!1),y=(0,s.default)(u,2),b=y[0],m=y[1];return(0,k.jsxs)(h.default,{style:tt.container,children:[(0,k.jsx)(h.default,{style:tt.titleContainer,children:(0,k.jsx)(f.default,{style:tt.title,children:"A Survey Study on Chatbot-Based Food Recommendation"})}),(0,k.jsx)(h.default,{style:{height:.8*$e,width:o,backgroundColor:"white",paddingHorizontal:10*Xe,borderRadius:15*Xe,borderWidth:2*Xe,borderColor:"black",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"center"},children:(0,k.jsxs)(h.default,{style:{height:.6*$e,width:.5*Qe,backgroundColor:"white",paddingHorizontal:10*Xe,borderRadius:15*Xe,borderWidth:1.5*Xe,borderColor:"white",flexDirection:"column",justifyContent:"center",alignItems:"center",alignSelf:"center",marginBottom:50*Xe},children:[(0,k.jsxs)(f.default,{style:tt.textsub,children:["During our conversation, I normally respond with an ",(0,k.jsx)(f.default,{style:tt.textbBold,children:"facial expressions"})," like ",(0,k.jsx)(f.default,{style:tt.textbBold,children:"[default]"}),". If you see ",(0,k.jsx)(f.default,{style:tt.textbBold,children:"[typing]"}),", that means that I'm still work on generating a response."]}),(0,k.jsxs)(h.default,{style:[tt.avatar,{marginTop:15*Xe}],children:[(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(9298)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[default]"})]}),(0,k.jsx)(f.default,{style:tt.title,children:"   "}),(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(5481)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[typing]"})]})]}),(0,k.jsx)(f.default,{style:tt.textsub,children:" "}),(0,k.jsxs)(f.default,{style:tt.textsub,children:["Sometimes, I also change my ",(0,k.jsx)(f.default,{style:tt.textbBold,children:"facial expressions"})," on how I feel. Here are some examples and what they mean."]}),(0,k.jsxs)(h.default,{style:[tt.avatar,{marginTop:15*Xe}],children:[(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(6724)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[happy]"})]}),(0,k.jsx)(f.default,{style:tt.title,children:"   "}),(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(3361)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[sad]"})]}),(0,k.jsx)(f.default,{style:tt.title,children:"   "}),(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(4719)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[excited]"})]}),(0,k.jsx)(f.default,{style:tt.title,children:"   "}),(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(1983)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[content]"})]}),(0,k.jsx)(f.default,{style:tt.title,children:"   "}),(0,k.jsxs)(h.default,{style:tt.sigAva,children:[(0,k.jsx)(x.default,{style:tt.bot,source:n(94)}),(0,k.jsx)(f.default,{style:tt.textbBold,children:"[sorry]"})]})]})]})}),(0,k.jsx)(h.default,{style:tt.subTitleContainer,children:(0,k.jsx)(g.default,{style:[{width:.105*Qe,height:.03*$e,backgroundColor:"#86A789",justifyContent:"center",alignItems:"center",marginRight:.1*Qe},a&&{backgroundColor:"#597E52"}],onFocus:function(){c(!0)},onBlur:function(){c(!1)},onPress:function(){m(!0),t.navigate("Chat")},disabled:b,children:(0,k.jsx)(f.default,{style:tt.texts,children:"Next: Let's talk"})})}),(0,k.jsx)(d.default,{style:"auto"})]})}var tt=u.default.create({container:{flex:1,flexDirection:"column",backgroundColor:"white",justifyContent:"center"},titleContainer:{height:.1*$e,flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"white"},subTitleContainer:{height:.1*$e,flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"white",alignSelf:"flex-end"},title:{fontFamily:"Arial",fontSize:40*Xe,color:"#597E52",fontWeight:"bold"},texts:{fontFamily:"Arial",fontSize:16*Xe,color:"white"},avatar:{backgroundColor:"white",paddingHorizontal:10*Xe,flexDirection:"row",justifyContent:"center",alignItems:"center"},sigAva:{backgroundColor:"white",paddingHorizontal:10*Xe,flexDirection:"column",justifyContent:"center",alignItems:"center"},textsub:{fontFamily:"Arial",fontSize:18*Xe,color:"black"},textbBold:{fontFamily:"Arial",fontSize:18*Xe,color:"black",fontWeight:"bold"},bot:{width:75*Xe,height:75*Xe}}),nt=(0,r.default)();(0,o.default)((function(){return(0,k.jsx)(l.default,{children:(0,k.jsxs)(nt.Navigator,{screenOptions:{headerShown:!1},children:[(0,k.jsx)(nt.Screen,{name:"Test",component:Ke}),(0,k.jsx)(nt.Screen,{name:"Intro",component:Te}),(0,k.jsx)(nt.Screen,{name:"Quali",component:Pe}),(0,k.jsx)(nt.Screen,{name:"Info",component:He}),(0,k.jsx)(nt.Screen,{name:"Cus",component:A}),(0,k.jsx)(nt.Screen,{name:"Ava",component:et}),(0,k.jsx)(nt.Screen,{name:"Chat",component:Z}),(0,k.jsx)(nt.Screen,{name:"Feedback",component:je}),(0,k.jsx)(nt.Screen,{name:"ID",component:Ge})]})})}))},1983:(e,t,n)=>{e.exports=n.p+"static/media/congrats.b5a90506df7dad69794b.png"},3361:(e,t,n)=>{e.exports=n.p+"static/media/negative.0101b3d353c83e3d6dfe.png"},9298:(e,t,n)=>{e.exports=n.p+"static/media/neutral.c84c0e621dcfa7d154ea.png"},6724:(e,t,n)=>{e.exports=n.p+"static/media/positive.ccce4d1ffc7d446ef534.png"},4719:(e,t,n)=>{e.exports=n.p+"static/media/rec.4752a8a97a90070a6730.png"},94:(e,t,n)=>{e.exports=n.p+"static/media/sorry.cdc3dc5f4186225bf544.png"},5481:(e,t,n)=>{e.exports=n.p+"static/media/waiting.2a4415f55e0d6522f877.png"}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,(()=>{var e=[];n.O=(t,o,i,l)=>{if(!o){var r=1/0;for(c=0;c<e.length;c++){for(var[o,i,l]=e[c],a=!0,s=0;s<o.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(a=!1,l<r&&(r=l));if(a){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,i,l]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,i){if(1&i&&(o=this(o)),8&i)return o;if("object"===typeof o&&o){if(4&i&&o.__esModule)return o;if(16&i&&"function"===typeof o.then)return o}var l=Object.create(null);n.r(l);var r={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&o;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>r[e]=()=>o[e]));return r.default=()=>o,n.d(l,r),l}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/FoodRSWeb/",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,l,[r,a,s]=o,d=0;if(r.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(s)var c=s(n)}for(t&&t(o);d<r.length;d++)l=r[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[45],(()=>n(9442)));o=n.O(o)})();